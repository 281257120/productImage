import{c5 as e,bD as t,ch as a,ci as l,cj as o,ck as r,c7 as n,c3 as i,bx as s,cl as u,cm as d,cn as p,co as c,cp as m,cq as h,bM as v,cr as g,cs as y,ct as f,cu as b,cv as _,cw as k,cx as C,cy as I,cz as w,cA as x,bP as V,bw as S,bK as T,bU as z,cB as O,cC as L,ca as j,cD as D,bJ as P,cE as N,cF as E,cG as B,cH as U,bB as M,bO as R,bZ as A,bF as F,b$ as G,bI as H,cI as $,bG as J,bW as q,bN as W,bH as Q,cJ as Y,cK as Z,cL as K,cg as X,cM as ee,cN as te,cO as ae,cP as le,cQ as oe,cR as re,cS as ne,cT as ie,bL as se,cU as ue,cV as de}from"./vendor-dcc16dae.js";import{P as pe,N as ce,Q as me,a as he,b as ve,c as ge,d as ye,e as fe,f as be,g as _e,h as ke,R as Ce,i as Ie,j as we,k as xe,l as Ve,u as Se,m as Te,n as ze,o as Oe,p as Le,q as je,r as De,s as Pe,t as Ne,C as Ee,v as Be,w as Ue,x as Me,y as Re,z as Ae,A as Fe,B as Ge,D as He,E as $e,F as Je,G as qe,H as We,I as Qe,J as Ye}from"./vendor-quasar-602ea81b.js";import{d as Ze,s as Ke,c as Xe}from"./vendor-pinia-a5a4c60e.js";import{s as et,a as tt}from"./vendor-axios-89ebf1f0.js";import{r as at}from"./vendor-lodash-6d4cc0a4.js";import{L as lt,m as ot}from"./vendor-lowdb-512c8d72.js";import{m as rt,f as nt,u as it,a as st,V as ut,b as dt,c as pt,d as ct,e as mt,g as ht,h as vt,i as gt,j as yt,k as ft,l as bt,n as _t,o as kt,p as Ct,q as It,r as wt}from"./vendor-vue-cesium-dfe3d6e5.js";import"./vendor-echarts-6b7acb6e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function xt(e="default",t=""){pe.set(`VueCesiumDemo-0.0.1-${e}`,t)}function Vt(e="default"){return pe.getItem(`VueCesiumDemo-0.0.1-${e}`)}function St(e="default"){pe.remove(`VueCesiumDemo-0.0.1-${e}`)}const Tt={},zt=function(e,t,a){if(!t||0===t.length)return e();const l=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/productImage/dist/"+e}(e))in Tt)return;Tt[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!a)for(let a=l.length-1;a>=0;a--){const o=l[a];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},Ot=[{path:"/",name:"layout",component:()=>zt((()=>Promise.resolve().then((()=>vi))),void 0),redirect:{path:"/drag"},children:[{name:"login",path:"/login",component:()=>zt((()=>Promise.resolve().then((()=>Gn))),void 0)}]}],Lt=[{path:"/:catchAll(.*)*",name:"404",component:()=>zt((()=>Promise.resolve().then((()=>Un))),void 0)}],jt=[{name:"test-on-demand",path:"/test-on-demand",meta:{title:"ttt"},component:()=>zt((()=>Promise.resolve().then((()=>$n))),void 0)}],Dt=Ot,Pt=[...Ot,...jt,...Lt],Nt=((t="")=>function(...a){t&&(e(a[0])?a[0]=t.trim()+" "+a[0]:a=[t.trim(),...a]);const l=a.shift(),o=new Error(l);Gi.system.useLogStore(Fi).push({message:"业务逻辑警告",type:"warning",meta:{error:o}}),ce.create({message:l,timeout:3e3,type:"warning"})})("[VueCesiumDemo] WARN "),Et=((t="")=>function(...a){t&&(e(a[0])?a[0]=t.trim()+" "+a[0]:a=[t.trim(),...a]);const l=a.shift(),o=new Error(l);Gi.system.useLogStore(Fi).push({message:"业务逻辑异常",type:"danger",meta:{error:o}}),ce.create({message:l,timeout:3e3,type:"negative"})})("[VueCesiumDemo] ERR ");function Bt(e,t,a){return At(e,t.geometry.coordinates,a,t)}function Ut(e,t,a){const l=[],o=t.geometry.coordinates;for(let r=0;r<o.length;r++)l.push(At(e,o[r],a,t));return l}function Mt(e,t,a){return Ft(e,t.geometry.coordinates,a,t)}function Rt(e,a,l,o){var r;const n=!Cesium.defined(o.properties.checked)||t(o.properties,"checked");o.properties.actualRenderingType=l;const i={id:Cesium.createGuid(),position:a,show:n,feature:at.cloneDeep(o)};if(i[l]={...e[l]},"model"===l){const e=JSON.parse((null==(r=o.properties)?void 0:r.hpr)||"{}");if(Array.isArray(e)){const t=rt(a),l=new Cesium.HeadingPitchRoll(...e);i.orientation=Cesium.Transforms.headingPitchRollQuaternion(t,l)}}return i}function At(e,r,n,i){const s=t(i.properties,"checked");if(i.properties.actualRenderingType=n,"polygon"===n){return Mt(e,a(i),n)}if("billboard"===n||"point"===n||"label"===n){const t={show:s,position:("MultiPolygon"===i.geometry.type?l(i):o(i)).geometry.coordinates,feature:at.cloneDeep(i)};switch(n){case"billboard":t.billboard={...e.billboard};break;case"point":t.point={...e.point};break;case"label":t.label={text:i.properties.text||i.properties.name,...e.label}}return t}return{show:s,polyline:{positions:r,...e.polyline},feature:at.cloneDeep(i)}}function Ft(e,a,n,i){const s=t(i.properties,"checked");if(i.properties.actualRenderingType=n,"polyline"===n){if("MultiPolygon"===i.geometry.type){const t=r(i),a=[];return t.features.forEach((t=>{"LineString"===t.geometry.type?a.push(Bt(e,t,n)):a.push(...Ut(e,t,n))})),a}if("Polygon"===i.geometry.type){const t=r(i);return Bt(e,t,n)}}else{if("polygon"===n){const t=[];for(let e=1;e<a.length;e++)t.push({positions:a[e]});return{show:s,polygon:{height:0,hierarchy:{positions:a[0],holes:t},...e.polygon},feature:at.cloneDeep(i)}}if("billboard"===n||"point"===n||"label"===n){const t={show:s,position:("MultiPolygon"===i.geometry.type?l(i):o(i)).geometry.coordinates,feature:at.cloneDeep(i)};switch(n){case"billboard":t.billboard={...e.billboard};break;case"point":t.point={...e.point};break;case"label":t.label={text:i.properties.text||i.properties.name,...e.label}}return t}}}const Gt={LineString:Bt,MultiLineString:Ut,MultiPoint:function(e,t,a){const l=[],o=t.geometry.coordinates;for(let r=0;r<o.length;r++)l.push(Rt(e,o[r],a,t));return l},MultiPolygon:function(e,t,a){const l=[],o=t.geometry.coordinates;for(let r=0;r<o.length;r++){const n=Ft(e,o[r],a,t),i=Array.isArray(n)?n:[n];l.push(...i)}return l},Point:function(e,t,a){return Rt(e,t.geometry.coordinates,a,t)},Polygon:Mt};function Ht(e){Gi.viewer.useRenderStore(Fi).addRenderDatas(e)}function $t(e){Gi.viewer.useRenderStore(Fi).removeRenderDataById(e)}function Jt(e){return Gi.viewer.useRenderStore(Fi).getRenderDataByDatasetId(e)}function qt(e,t){Gi.viewer.useRenderStore(Fi).setSelectedRenderData(e,t)}function Wt(e,t,a,l=[],o){!function(){var e;const t=Gi.viewer.useRenderStore(Fi).selectedRenderData;t.model&&(null==(e=null==t?void 0:t.restoreHandlers)?void 0:e.length)&&t.restoreHandlers.forEach((e=>{e()})),qt({model:void 0,renderingType:void 0,restoreHandlers:[],feature:void 0,featureInfoListItems:[]},!0)}();const r=e.trim().split(",");r&&r.length||Nt("高亮渲染模型失败，原因：未知的显示类型。","要素ID：",a.properties.id),r.forEach((e=>{var r;const n=Qt(e,Jt(t),a.properties.id);if(!n)return void qt({model:null,renderingType:e,restoreHandlers:[()=>{}],feature:a,featureInfoListItems:l});const s=null==(r=n.feature.properties)?void 0:r.selectedProps,u=s&&i(s)?s:s?JSON.parse(s):{},d="primitive"===o?n:n[e],p=null==u?void 0:u[e];if(p){let t={};Object.keys(p).forEach((e=>{t[e]=d[e],d[e]=p[e]})),qt({model:d,renderingType:e,restoreHandlers:[()=>{Object.keys(t).forEach((e=>{d[e]=t[e]})),t=void 0}],feature:n.feature,featureInfoListItems:l})}else Nt("设置对象选中风格失败，原因：没有设置默认选中样式。请通过数据集或者要素的 selectedProps 字段设置。")}))}function Qt(e,t,a,l){let o,r,n;if(o=i(t)?t:Jt(t),!o)return;switch(e){case"label":case"point":case"billboard":case"model":r="primitive"===l?"VcCollectionBillboard":"VcDatasourceCustom",n="primitive"===l?"billboards":"entities";break;case"polyline":r="primitive"===l?"VcCollectionPolyline":"VcDatasourceCustom",n="primitive"===l?"polylines":"entities";break;case"polygon":r="primitive"===l?"VcCollectionPrimitive":"VcDatasourceCustom",n="primitive"===l?"polygons":"entities";break;case"geojson":r="VcDatasourceGeojson",n="data";break;case"tileset":r="VcPrimitiveTileset";break;case"imagery":r="VcLayerImagery"}const s=at.find(o.datasets,(e=>e.cmpName===r));if("geojson"===e)return s;if(Cesium.defined(s)){if("geojson"===e)return s;return at.find(s.props[n],(t=>t.feature.properties.id===a&&t.feature.properties.actualRenderingType===e))}}function Yt(e,t){const a=[];if(!Cesium.defined(e.geometry))return Nt("feature.geometry is required.","要素：",e),"添加渲染模型失败，原因：该要素没有 geometry 属性";const l=Object.keys(t);if(!l||!l.length)return Nt("添加渲染模型失败，原因：未知的显示类型。","要素：",e),"添加渲染模型失败，原因：未知的显示类型。";const o=e.geometry.type,r=Gt[o];return Cesium.defined(r)?(l.forEach((l=>{const o=r(t,e,l),n=Array.isArray(o)?o:[o];a.push(...n)})),a):(Nt(`添加渲染模型失败，原因：该几何类型${o}没有找到处理方法。`,"要素：",e),`添加渲染模型失败，原因：该几何类型${o}没有找到处理方法。`)}async function Zt(e,t,a,l,o,r,n,i){const s={id:o,page:r,type:n,datasets:[]},u=await async function(e,t,a,l,o){"string"==typeof e&&(e=await Cesium.Resource.fetchJson({url:e}));if(!Cesium.defined(e))return void Et("添加数据源失败，原因：GeoJSON 数据格式不正确。",e);const r=[],n=e.type,i=e=>{e.properties.renderingType=e.properties.renderingType||t,Cesium.defined(e.properties.id)||(e.properties.id=Cesium.createGuid()),e.properties.datasetId=o,e.properties.selectedProps=e.properties.selectedProps||l||{}};switch(n){case"FeatureCollection":e.features.forEach((e=>{i(e);const t=Yt(e,a);t.length&&r.push(...t)}));break;case"Feature":{const t=e;i(t);const l=Yt(t,a);l.length&&r.push(...l)}}return r}(e,t,a,l,o);return u.length&&s.datasets.push({cmpName:"VcDatasourceCustom",props:{entities:u,...i,onReady:e=>{var t;const{cesiumObject:a}=e,l=`VcDatasourceCustom_${s.id}`;a.datasetId=l,null==(t=null==i?void 0:i.onReady)||t.call(i,e)}}}),Ht(s),Promise.resolve(s)}function Kt(e,t){let a=[];return t().then((t=>{var l,o;if(0!==t.code)return Et(`添加渲染数据集失败，原因：数据请求失败。数据集id: ${e.id}，数据集名称: ${e.name}`),!1;if(!t.data)return Et(`添加渲染数据集失败，原因：未知的 GeoJSON 类型。数据集id: ${e.id}，数据集名称: ${e.name}`),!1;if(null==(l=t.data)?void 0:l.type){switch(null==(o=t.data)?void 0:o.type){case"Feature":a=[t.data];break;case"FeatureCollection":a=t.data.features,a.forEach((t=>{Cesium.defined(t.properties.renderingType)||(t.properties.renderingType=e.renderingType||"billboard"),Cesium.defined(t.properties.id)||(t.properties.id=Cesium.createGuid()),Cesium.defined(t.properties.checked)||(t.properties.checked=!1)}));break;default:return Et(`添加渲染数据集失败，原因：未知的 GeoJSON 类型。数据集id: ${e.id}，数据集名称: ${e.name}`),!1}}return a.length?a:(Et(`添加渲染数据集失败，原因：请求数据成功，但结果为空。数据集id: ${e.id}，数据集名称: ${e.name}`),!1)})).catch((e=>(Et("添加渲染数据集失败，原因：数据请求异常。",e),!1)))}function Xt(e,t,a,l,o){var r;if(null==(r=e.children)?void 0:r.length)return Promise.resolve(ea(e,a,l,o));try{return Kt(e,t).then((t=>{if(Array.isArray(t))return e.children=t,ea(e,a,l,o)}))}catch(n){return void Et(`添加渲染数据集失败，原因：数据请求发生错误。数据集id: ${e.id}，数据集名称: ${e.name}`,"数据模型：",e)}}const ea=(e,a,l,o)=>new Promise(((r,u)=>{var d,p,c,m,h,v,g,y,f,b;e.cesiumObjects=e.cesiumObjects||[];const _={id:e.id,name:e.name,page:a,type:l,datasets:[]};let k=[];for(let s=0;s<(null==(d=null==e?void 0:e.children)?void 0:d.length);s++){const u=e.children[s];if(n(u,"type")&&n(u,"properties")){const a=u,l=a.properties;l.datasetId=a.properties.datasetId||e.id,l.datasetName=a.properties.datasetName||e.name,l.selectedProps=a.properties.selectedProps||e.selectedProps||{};const o=e.props&&i(null==e?void 0:e.props)?null==e?void 0:e.props:e.props?JSON.parse(null==e?void 0:e.props):{},n=(null==(p=a.properties)?void 0:p.props)&&i(null==(c=a.properties)?void 0:c.props)?null==(m=a.properties)?void 0:m.props:a.properties.props?JSON.parse(null==(h=a.properties)?void 0:h.props):{},s=Object.assign({},o,n);if("tileset"===e.renderingType){const l=Object.assign({},s[e.renderingType],null==(g=null==(v=a.properties)?void 0:v.props)?void 0:g[e.renderingType]);a.properties.actualRenderingType=e.renderingType,_.datasets.push({cmpName:"VcPrimitiveTileset",props:{...l,show:t(a.properties,"checked"),onReady:e=>{r(e)}},feature:a})}else if("imagery"===e.renderingType){const l=Object.assign({},s[e.renderingType],null==(f=null==(y=a.properties)?void 0:y.props)?void 0:f[e.renderingType]);a.properties.actualRenderingType=e.renderingType;const o=l.children;delete l.children,_.datasets.push({cmpName:"VcLayerImagery",props:{...l,show:t(a.properties,"checked"),onReady:e=>{r(e)}},feature:a,children:[{cmpName:o[0].cmpName,props:{...o[0].props}}]})}else{const e=Yt(a,s);if("string"==typeof e)continue;const t=at.intersectionWith(e,k,((e,t)=>e.feature.properties.id===t.feature.properties.id&&e.feature.geometry.type===t.feature.geometry.type));k.push(...e),t.length&&(t.forEach((e=>{Nt(`已添加相同id和类型的渲染数据集，可能有重复数据，请核实。对象 id: ${e.feature.properties.id}，对象类型: ${e.feature.geometry.type}`,"数据模型：",e)})),k=at.uniqWith(k,((e,t)=>e.feature.properties.id===t.feature.properties.id&&e.feature.geometry.type===t.feature.geometry.type)))}}else{const e=u;(null==(b=null==e?void 0:e.children)?void 0:b.length)?r(ea(e,a,l,o)):r(!1)}}k.length&&_.datasets.push({cmpName:"VcDatasourceCustom",props:{...o,entities:k,onReady:t=>{var a;const{cesiumObject:l}=t,n=`VcDatasourceCustom_${e.id}`;l.datasetId=n;!at.find(e.cesiumObjects,(e=>e.datasetId===n))&&e.cesiumObjects.push(s(l)),null==(a=null==o?void 0:o.onReady)||a.call(o,t),r(t)}}}),Ht(_)}));function ta(e){return e.map((e=>({...e,path:e.path||at.uniqueId("vc-menu-empty-"),...e.children?{children:ta(e.children)}:{}})))}function aa(e={},t="",a=0){return[200,{code:a,msg:t,data:e}]}function la(e){Gi.system.useLogStore(Fi).push({message:"数据请求异常",type:"danger",meta:{error:e}}),ce.create({message:e.message,type:"negative",timeout:3e3})}function oa(e){const t=new Error(e);throw la(t),t}const ra=Object.freeze(Object.defineProperty({__proto__:null,errorCreate:oa,errorLog:la,parse:function(e="{}",t={}){let a=t;try{a=JSON.parse(e)}catch(l){Et(l)}return a},response:aa,responseError:function(e={},t="请求失败",a=500){return aa(e,t,a)},responseSuccess:function(e={},t="成功"){return aa(e,t)}},Symbol.toStringTag,{value:"Module"})),na=()=>{const e=tt.create({});return e.interceptors.request.use((e=>e),(e=>(la(e),Promise.reject(e)))),e.interceptors.response.use((e=>{const t=e.data,{code:a}=t;if(void 0===a)return t;switch(a){case 0:case 200:return t;case"xxx":oa(`[ code: xxx ] ${t.msg}: ${e.config.url}`);break;default:return oa(`${t.msg}: ${e.config.url}`),Promise.reject(t)}}),(e=>{switch(at.get(e,"response.status")){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录",St("token"),St("uuid"),Ca.push("/login");break;case 403:e.message="拒绝访问";break;case 404:e.message=`请求地址出错: ${e.response.config.url}`;break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持"}return la(e),Promise.reject(e)})),e};function ia(e){return function(t){const a=Vt("token"),l={headers:{Authorization:a,"Content-Type":at.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return a&&(l.headers.Authorization="Bearer "+a),e(Object.assign(l,t))}}const sa=na(),ua=ia(sa),da=na(),pa=ia(da),ca=new et(da),ma=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],ha=[{id:u(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:u(),component:"/drag",icon:"cog",islock:!1,hidden:!1,name:"drag",path:"/drag",sort:1e3,caption:"首页",title:"message.header.drag",type:10}]}],va=[{id:u(),name:"DataSource",label:"数据源",icon:"",children:[{id:u(),name:"机场",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/机场.json",renderingType:"billboard",lazy:!0,props:{billboard:{image:"/productImage/dist/images/飞机场.svg",color:"#ffc10",scale:.25,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e7]}},selectedProps:{billboard:{color:"red",scale:1}}},{id:u(),name:"摄像头",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/视频点.json",renderingType:"billboard",lazy:!0,props:{billboard:{image:"/productImage/dist/images/video.svg",color:"#ffc10",scale:.25,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e7]}},selectedProps:{billboard:{color:"red",scale:1}},children:[{type:"Feature",geometry:{type:"MultiPoint",coordinates:[[108.253394,29.730675]]},properties:{name:"摄像头点位1",pyname:"hstxgjjc",kind:"8100",id:u(),checked:!0}}]},{id:u(),name:"水系",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/水系.json",renderingType:"polyline",lazy:!0,props:{polyline:{width:1}},selectedProps:{polyline:{width:2,material:"#ffc107"}}},{id:u(),name:"岛屿",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/岛屿.json",renderingType:"polygon,polyline,billboard",lazy:!0,props:{billboard:{image:"/productImage/dist/images/岛屿.svg",scale:.2,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e6]},polygon:{material:"rgba(137,207,240,0.5)"},polyline:{width:4,material:"#0033ff"}},selectedProps:{billboard:{scale:.5},polygon:{material:"#ffc107"},polyline:{width:8,material:"red"}}},{id:u(),name:"模型",icon:"",checked:!1,expanded:!1,renderingType:"model",children:[{id:u(),name:"Tileset 模型",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/Tileset模型.json",lazy:!0,renderingType:"tileset",props:{tileset:{}}},{id:u(),name:"GLTF 模型",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/GLTF模型.json",lazy:!0,renderingType:"model",props:{model:{scale:1}},selectedProps:{model:{color:"red"}}},{id:u(),name:"模型嵌套",icon:"",checked:!1,expanded:!1,renderingType:"model",children:[{id:u(),name:"GLTF 模型",icon:"",checked:!1,expanded:!1,lazy:!0,fetchStr:"/datas/work-bench/GLTF模型.json",renderingType:"model",props:{model:{scale:1}}},{type:"Feature",properties:{id:u(),name:"飞机",hpr:"[135, 0, 0]",renderingType:"model",checked:!0,props:{model:{uri:"../datas/gltf/Cesium_Air.glb"}},selectedProps:{model:{color:"red"}}},geometry:{coordinates:[121.25202608700887,32.14045397527647],type:"Point"}}]}]},{id:u(),name:"图层",icon:"",checked:!1,expanded:!1,renderingType:"imagery",children:[{id:u(),name:"图层嵌套",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/图层.json",lazy:!0,renderingType:"imagery",props:{imagery:{}}},{type:"Feature",properties:{id:u(),checked:!1,name:"WMS",props:{imagery:{alpha:1,brightness:1,contrast:1,sortOrder:60,children:[{cmpName:"VcImageryProviderWms",props:{url:"https://nationalmap.gov.au/proxy/http://geoserver.nationalmap.nicta.com.au/geotopo_250k/ows",layers:"Hydrography:bores",parameters:{format:"image/png",transparent:!0},rectangle:[112,-43,154,-10]}}]}}},geometry:{coordinates:[108.965836,34.225607],type:"Point"}}]}]}],ga={service:sa,request:ua,serviceForMock:da,requestForMock:pa,mock:ca,tools:ra},ya=(({service:e,request:t,serviceForMock:a,requestForMock:l,mock:o,tools:r})=>({login:(e={})=>(o.onAny("/auth/login").reply((e=>{const t=r.parse(e.data),a=at.find(ma,{username:t.username,password:t.password});return a?r.responseSuccess(at.assign({},a,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):r.responseError({},"账号或密码不正确")})),l({url:"/auth/login",method:"post",data:e})),getUserInfo:()=>(o.onAny("/user/info").reply((e=>{const t=Vt("uuid"),a=at.find(ma,{id:t});return a?r.responseSuccess(at.assign({},a)):(St("token"),St("uuid"),Ca.push("/login"),r.responseError({},"未授权, 请登录!"))})),l({url:"/user/info",method:"post"})),getAccessibleMenus:(e={})=>(o.onAny("/api/menu/accessible").reply((e=>r.responseSuccess(ha))),l({url:"/api/menu/accessible",method:"post",data:e}))}))(ga),fa=(({service:e,request:t,serviceForMock:a,requestForMock:l,mock:o,tools:r})=>({getStaticData:(e,a)=>t({baseURL:a=a||"/productImage/dist/",url:e,method:"get"}).then((e=>({code:0,data:e,msg:"success"}))),inverseGeocode:e=>t({baseURL:"/productImage/dist/",url:"/reverse_geocoding/v3",method:"get",params:e}),getLocationList:e=>t({baseURL:"/productImage/dist/",url:"/v3/place/text",method:"get",params:e})}))(ga),ba=(({service:e,request:t,serviceForMock:a,requestForMock:l,mock:o,tools:r})=>({getTreeData:()=>(o.onAny("/dynamic-render/recursive-list/datatree").reply((e=>r.responseSuccess(va))),l({url:"/dynamic-render/recursive-list/datatree",method:"post"})),inverseGeocode:e=>t({baseURL:"/productImage/dist/",url:"/reverse_geocoding/v3",method:"get",params:e})}))(ga),_a={"zh-CN":{message:{header:{index:"首页",dynamicRender:"动态渲染",expansion:"扩展组件",other:"测试页面",drag:"出图"},sideBar:{dynamicRender:{recursiveList:"递归列表",stack:"堆叠展示",historicalTrack:"历史轨迹"},expansion:{typhoon:"台风"},other:{tsx:"TSX"}},panel:{layerManager:"图层管理",videoPlayer:"视频播放"},baseLayer:"底图图层",overlayLayer:"叠加图层",terrainLayer:"地形图层"}},"en-US":{message:{header:{index:"Index",dynamicRender:"DynamicRender",expansion:"Expansion",other:"Test"},sideBar:{dynamicRender:{recursiveList:"RecursiveList",stack:"StackView",historicalTrack:"HistoricalTrack"},expansion:{typhoon:"Typhoon"},other:{tsx:"TSX"}},panel:{layerManager:"LayerManager",videoPlayer:"VideoPlayer"},baseLayer:"BaseLayer",overlayLayer:"OverlayLayer",terrainLayer:"TerrainLayer"}}},ka=d({legacy:!1,locale:Vt("locale")||"zh-CN",fallbackLocale:"zh-CN",globalInjection:!0,messages:_a}),Ca=p({scrollBehavior:()=>({left:0,top:0}),routes:Pt,history:({}.SERVER?m:h)("/productImage/dist/")}),Ia=["/login","/404"];Ca.beforeEach((async(e,t,a)=>{c.start(),Gi.system.useSearchStore(Fi).set(!1);const l=Vt("token");if("/login"!==e.path&&ya.getUserInfo(),l)try{if(!Gi.system.usePermissionStore(Fi).inited){const t=[...(await ya.getAccessibleMenus()).data];return await Gi.system.usePermissionStore(Fi).generateRoutes({menuTree:t}),void a(e.path)}"/login"===e.path?a({path:"/drag"}):a()}catch(o){-1!==Ia.indexOf(e.path)?a():a("/login")}else-1!==Ia.indexOf(e.path)?a():a("/login")})),Ca.afterEach((e=>{var t;c.done(),t=ka.global.t(e.meta.title),window.document.title="VueCesium Demo"+(t?` | ${t}`:"")}));const wa=ot(new lt("VueCesiumDemo-0.0.1"));function xa({dbName:e="database",path:t="",user:a=!0,validator:l=(e=>!0),defaultValue:o=""}){const r=Vt("uuid")||"ghost-uuid",n=`${e}.${a?`user.${r}`:"public"}${t?`.${t}`:""}`,i=wa.get(n).value();return void 0!==i&&l(i)||wa.set(n,o).write(),n}function Va({dbName:e="database",path:t="",user:a=!1,validator:l=(()=>!0),defaultValue:o=""}={}){return wa.get(xa({dbName:e,path:t,user:a,validator:l,defaultValue:o}))}wa.defaults({sys:{},database:{}}).write();const Sa=Ze("db",{state:()=>({}),getters:{},actions:{set({dbName:e="database",path:t="",value:a="",user:l=!1}){!function({dbName:e="database",path:t="",value:a="",user:l=!1}){wa.set(xa({dbName:e,path:t,user:l}),a).write()}({dbName:e,path:t,value:a,user:l})},get:({dbName:e="database",path:t="",defaultValue:a="",user:l=!1})=>function({dbName:e="database",path:t="",defaultValue:a="",user:l=!1}){return at.cloneDeep(wa.get(xa({dbName:e,path:t,user:l,defaultValue:a})).value())}({dbName:e,path:t,defaultValue:a,user:l}),database:({user:e=!1}={})=>Va({user:e,defaultValue:""}),databaseClear:({user:e=!1}={})=>Va({user:e,validator:()=>!0,defaultValue:""})}}),Ta=Ze("user",{state:()=>({info:{},className:"",levelsTemp:[]}),getters:{},actions:{async set(e){this.info=e;Sa().set({dbName:"sys",path:"user.info",value:e,user:!0})},async load(){const e=Sa().get({dbName:"sys",path:"user.info",defaultValue:"",user:!0});this.set(e)},changeClassName(e){this.className=e},changeLevelsTemp(e){this.levelsTemp=e},deleteLevelsTemp(){this.levelsTemp.length&&this.levelsTemp.splice(-1,1)},addLevelsTemp(){this.levelsTemp.length&&this.levelsTemp.push(this.levelsTemp[this.levelsTemp.length-1])}}}),za=v({__name:"MenuTree",props:{menuItem:{type:Object,default:()=>({})}},setup:e=>(t,a)=>{const l=g("el-sub-menu"),o=g("el-menu-item");return e.menuItem.children&&e.menuItem.children.length?(y(),f(l,{key:0,index:e.menuItem.index},{title:b((()=>[_(k(e.menuItem.name),1)])),default:b((()=>[(y(!0),C(w,null,I(e.menuItem.children,(e=>(y(),f(za,{key:e.name,menuItem:e},null,8,["menuItem"])))),128))])),_:1},8,["index"])):(y(),f(o,{key:1,index:e.menuItem.index},{default:b((()=>[_(k(e.menuItem.name),1)])),_:1},8,["index"]))}}),Oa=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"})),La={class:"model-list"},ja=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a},Da=ja(v({__name:"Index",props:{modelMenu:{type:Object,default:()=>{}},isChanged:{type:Boolean,default:!1}},emits:["update:changeModel"],setup(e,{emit:t}){x((e=>({"7b371395":V(l).header.themeHeaderContentBackgroundColor})));const a=S("0-0-0"),l=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]})),o=(e,a)=>{t("update:changeModel",e)};return z((()=>{t("update:changeModel","0-0-0")})),(t,r)=>{const n=g("el-menu");return y(),C("div",La,[O(n,{"default-active":a.value,class:"el-menu-demo","text-color":V(l).header.themeHeaderColor,"active-text-color":V(l).menu.themeMenuActiveBackgroundColor,"background-color":"rgba(255, 255, 255, .1)",onSelect:o},{default:b((()=>[(y(!0),C(w,null,I(e.modelMenu,(e=>(y(),f(za,{key:e.name,menuItem:e},null,8,["menuItem"])))),128))])),_:1},8,["default-active","text-color","active-text-color"])])}}}),[["__scopeId","data-v-f3ed4a4d"]]),Pa=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Na=e=>(E("data-v-7d9e1d04"),e=e(),B(),e),Ea={key:0,class:"title"},Ba={key:0},Ua=Na((()=>D("span",{class:"iconfont icon-bangzhu"},null,-1))),Ma={key:0},Ra={class:"title"},Aa={class:"cont"},Fa=[":key"],Ga={class:"popup-msg"},Ha=["innerText"],$a={class:"cont"},Ja={key:0,class:"card"},qa={key:0,class:"card radio"},Wa={key:1,class:"card radio"},Qa={key:2,class:"card"},Ya={key:3,class:"card input"},Za={key:4,class:"card input"},Ka={key:5,class:"card input"},Xa={key:6,class:"card"},el={key:7,class:"card"},tl={key:8,class:"card"},al={key:9,class:"card"},ll={key:10,class:"card input"},ol={key:11,class:"card input"},rl=["onClick"],nl=["onClick"],il={key:12,class:"card"},sl=["onClick"],ul={class:"cart flex"},dl={class:"title"},pl={class:"cart"},cl=Na((()=>D("div",{class:"title"},"图标大小及位置 (rect_size)",-1))),ml={class:"title"},hl={class:"cart flex"},vl=Na((()=>D("div",{class:"title"},"沿x轴对齐方式 (x_alalignment)",-1))),gl={class:"card radio"},yl={class:"cart flex"},fl=Na((()=>D("div",{class:"title"},"沿y轴对齐方式 (y_alalignment)",-1))),bl={class:"card radio"},_l=["onClick"],kl={key:13,class:"card"},Cl={class:"tiile"},Il={class:"input-card"},wl=["onClick"],xl={class:"cart flex"},Vl=Na((()=>D("div",{class:"title"},"x轴坐标位置 (x)",-1))),Sl={class:"cart flex"},Tl=Na((()=>D("div",{class:"title"},"y轴坐标位置 (y)",-1))),zl={class:"cart flex"},Ol=Na((()=>D("div",{class:"title"},"沿x轴对齐方式 (x_alalignment)565656",-1))),Ll={class:"card radio"},jl={class:"cart flex"},Dl=Na((()=>D("div",{class:"title"},"沿y轴对齐方式 (y_alalignment)",-1))),Pl={class:"card radio"},Nl={class:"cart flex"},El=Na((()=>D("div",{class:"title"},"标题描述 (s)",-1))),Bl={key:0,class:"cart"},Ul=Na((()=>D("div",{class:"title"},"字体设置 (pop)",-1))),Ml={class:"cart flex"},Rl=Na((()=>D("div",{class:"title"},"字体大小 (fontsize)",-1))),Al={class:"cart flex"},Fl=Na((()=>D("div",{class:"title"},"水平对齐 (horizontalalignment)",-1))),Gl={class:"cart flex"},Hl=Na((()=>D("div",{class:"title"},"垂直对齐 (verticalalignment)",-1))),$l=["onClick"],Jl={key:14,class:"card3"},ql={class:"flex"},Wl={class:"title text-center"},Ql={class:"card"},Yl=Na((()=>D("div",{class:"title"},"自定义shp路径，默认空字符为程序自带的shp (shp_file)",-1))),Zl={class:"card flex"},Kl=Na((()=>D("div",{class:"title"},"shp线形宽度 (lw)",-1))),Xl={class:"card flex"},eo=Na((()=>D("div",{class:"title"},"线形 (ec)",-1))),to={class:"card flex"},ao=Na((()=>D("div",{class:"title"},"图层顺序 (zorder)",-1))),lo={class:"card"},oo=Na((()=>D("div",{class:"title"},"是否添加矢量标记 (vector_markers)",-1))),ro={key:0,class:"card flex"},no={class:"card flex"},io=Na((()=>D("div",{class:"title"},"需要标记的值在shp中对应的属性名称，如FNAME (attr_info)",-1))),so={class:"card flex"},uo=Na((()=>D("div",{class:"title"},"通过out_attr_path将标记值导出为csv进行位置的微调后自定义使用,(out_attr_path)",-1))),po={class:"card flex"},co=Na((()=>D("div",{class:"title"},"图层顺序 (zorder)",-1))),mo={class:"input-card"},ho={class:"card flex"},vo=Na((()=>D("div",{class:"title"},"绘制标记图形 (draw_mark)",-1))),go={class:"card flex"},yo=Na((()=>D("div",{class:"title"},"是否绘制 (is_display)",-1))),fo={class:"card flex"},bo=Na((()=>D("div",{class:"title"},"颜色 (color)",-1))),_o={class:"card flex"},ko=Na((()=>D("div",{class:"title"},"半径 (radius)",-1))),Co={class:"card flex"},Io=Na((()=>D("div",{class:"title"},"样式 (style)",-1))),wo={class:"input-card"},xo={class:"card flex"},Vo=Na((()=>D("div",{class:"title"},"绘制名称 (draw_name)",-1))),So={class:"card flex"},To=Na((()=>D("div",{class:"title"},"是否绘制 (is_display)",-1))),zo={class:"card flex"},Oo=Na((()=>D("div",{class:"title"},"字体大小 (fontsize)",-1))),Lo={class:"card flex"},jo=Na((()=>D("div",{class:"title"},"颜色 (color)",-1))),Do={class:"cart flex"},Po=Na((()=>D("div",{class:"title"},"水平对齐 (horizontalalignment)",-1))),No={class:"cart flex"},Eo=Na((()=>D("div",{class:"title"},"垂直对齐 (verticalalignment)",-1))),Bo={class:"card flex"},Uo=Na((()=>D("div",{class:"title"},"半径距离x轴的外边距 (x_pad)",-1))),Mo={class:"card flex"},Ro=Na((()=>D("div",{class:"title"},"距离y轴的外边距 (y_pad)",-1))),Ao={key:15,class:"card3"},Fo={class:"flex"},Go={class:"title text-center"},Ho={class:"card"},$o=Na((()=>D("div",{class:"title"},"自定义shp路径，默认空字符为程序自带的shp (shp_file)",-1))),Jo={class:"card flex"},qo=Na((()=>D("div",{class:"title"},"shp线形宽度 (lw)",-1))),Wo={class:"card flex"},Qo=Na((()=>D("div",{class:"title"},"线形 (ec)",-1))),Yo={class:"card flex"},Zo=Na((()=>D("div",{class:"title"},"图层顺序 (zorder)",-1))),Ko={key:1,class:"input-card-wrap2"},Xo={key:0,class:"title"},er={key:0},tr=Na((()=>D("span",{class:"iconfont icon-bangzhu"},null,-1))),ar={key:0},lr={class:"title"},or={class:"cont"},rr=[":key"],nr={class:"popup-msg"},ir=["innerText"],sr={key:1,class:"card"},ur={key:0,class:"card radio"},dr={key:2,class:"negligible"},pr=ja(v({__name:"InputTree",props:{menuItem:{type:Object,default:()=>({})},topItem:{type:Object,default:()=>({})},defaultData:{type:Object,default:()=>({})}},emits:["inputChange"],setup(e,{emit:t}){const a=e;S(["cia"]);const l=[{value:1,label:"小1"},{value:2,label:"大2"}],o=[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}],r=[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}],n={img_path:"{root_dir}/data/icon/img_1.jpg",rect_size:[0,.045,.035,.035],x_alalignment:"left",y_alalignment:"top"},i={x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}};T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]}));const s=e=>{if("radio"==e.popupObj.type){let t=[];e.popupObj.value&&(t=e.popupObj.value.split(",").map((e=>+e))),e.popupObj.valueArr=t,"data_sources"==e.prop&&(e.value=e.popupObj.value)}u(e.prop)},u=(e="")=>{let l=a.defaultData.filter((e=>"contour_f"==e.prop))[0],o=l.children.filter((e=>"color_code"==e.prop))[0],r=l.children.filter((e=>"leg_para"==e.prop))[0].children.filter((e=>"level_str"==e.prop))[0],n=a.defaultData.filter((e=>"grade_para"==e.prop))[0].children.filter((e=>"n_classes"==e.prop))[0];if("scale"==a.topItem.prop){let e=a.topItem.children.filter((e=>"length"==e.prop));a.topItem.children.filter((e=>"xticks"==e.prop))[0].max=e[0].value}if("n_classes"==e){if(o.value.length>n.value&&(Gi.system.useUserStore(Fi).deleteLevelsTemp(),o.value.splice(-1,1)),o.value.length<n.value&&(Gi.system.useUserStore(Fi).addLevelsTemp(),o.value.push(o.value[o.value.length-1])),r.value.length&&r.value.length>n.value)for(let e=0;e<r.value.length-n.value;e++)r.value.splice(-1,1);if(r.value.length&&r.value.length<n.value)for(let e=0;e<n.value-r.value.length;e++)r.value.push(r.value[r.value.length-1])}P((()=>{if(a.menuItem.prop||(e=a.topItem.prop),"type"==e&&(e="leg_para","是否填值"==a.topItem.title&&(e="fill_val")),["rect_size","alpha","linewidth","vector_markers","lw","zorder","style","horizontalalignment","verticalalignment","fontsize","is_display","x","y","x_alalignment","y_alalignment","width","length","pad","top","right","labeltop","labelright","verticalalignment"].includes(e)&&(e=a.topItem.prop),"extend"==a.menuItem.prop){let e=a.menuItem.value;if(Gi.system.useUserStore(Fi).changeClassName(e),!a.defaultData.filter((e=>"grade_para"==e.prop))[0].ngligibleVal){let t=a.defaultData.filter((e=>"contour_f"==e.prop))[0],l=t.children.filter((e=>"levels"==e.prop))[0],o=t.children.filter((e=>"leg_para"==e.prop))[0].children.filter((e=>"level_str"==e.prop))[0],r=l.value.length,n=o.value;for(let i in a.defaultData)"contour_f"==a.defaultData[i].prop&&a.defaultData[i].children.forEach(((t,a)=>{if("color_code"==t.prop)switch(e){case"neither":if(r-t.value.lengt!=1)for(let e=0;e<=t.value.length-r+1;e++)t.value.splice(t.value.length-1,1),n.splice(n.length-1,1);break;case"both":if(r-t.value.length!=-1)for(let e=0;e<=r-t.value.length+1;e++)t.value.push(t.value[t.value.length-1]),n.length&&n.push(n[n.length-1]);break;case"min":case"max":if(r!=t.value.length)if(r>t.value.length)for(let e=0;e<=r-t.value.length;e++)t.value.push(t.value[t.value.length-1]),n.push(n[n.length-1]);else for(let e=0;e<=t.value.length-r;e++)t.value.splice(t.value.length-1,1),n.splice(n.length-1,1)}}))}}t("inputChange",e)}))},d=(e,t,l=0)=>{var o,r;let n=l||e[t];e.splice(t+1,0,JSON.parse(JSON.stringify(n))),"children"in a.topItem&&(null==(o=a.topItem)?void 0:o.children.length)&&(null==(r=a.topItem)||r.children.forEach((e=>{if("color_code"==e.prop){let a=e.value,l=t-1>=0?t-1:0;a.splice(t,0,a[l])}"leg_para"==e.prop&&e.children.forEach((e=>{if("level_str"==e.prop){let a=e.value,l=t-1>=0?t-1:0;a.splice(t,0,a[l])}}))}))),u()},p=(e,t)=>{var l,o;a.menuItem.minLen&&e.length<=a.menuItem.minLen?N({showClose:!0,message:`至少保留两个${a.menuItem.title}`,type:"warning"}):(e.splice(t,1),"children"in a.topItem&&(null==(l=a.topItem)?void 0:l.children.length)&&(null==(o=a.topItem)||o.children.forEach((e=>{if("color_code"==e.prop){e.value.splice(t,1)}"leg_para"==e.prop&&e.children.forEach((e=>{if("level_str"==e.prop){e.value.splice(t,1)}}))}))),u())};return(t,a)=>{const c=g("el-popover"),m=g("el-radio-button"),h=g("el-radio-group"),v=g("el-checkbox"),x=g("el-checkbox-group"),S=g("el-input"),T=g("el-input-number"),z=g("el-switch"),P=g("el-slider"),N=g("el-color-picker");return y(),C("div",{class:L(["input-card",e.menuItem.prop,V(Gi).system.useUserStore(V(Fi)).className])},["value"in e.menuItem?(y(),C("div",{key:0,class:L({"input-card-wrap":!0,"imput-card-tree-list":["subordinate_regions","river_system","data_sources","xticks","level_str","extend","alpha","shp_file","lon_ticks","lat_ticks","levels"].includes(e.menuItem.prop)})},[e.menuItem.isTop?j("",!0):(y(),C("div",Ea,[_(k(e.menuItem.title)+" ",1),e.menuItem.prop?(y(),C("span",Ba," ("+k("levels"==e.menuItem.prop?"levels,color_code,level_str":e.menuItem.prop)+")",1)):j("",!0),e.menuItem.popup?(y(),f(c,{key:1,class:"prpover-btn",placement:"top-start",width:e.menuItem.popupWidth,trigger:"click"},{reference:b((()=>[Ua])),default:b((()=>["btn"==e.menuItem.popup?(y(),C("div",Ma,[D("div",Ra,k(e.menuItem.popupObj.title),1),D("div",Aa,[(y(!0),C(w,null,I(e.menuItem.popupObj.children,((e,t)=>(y(),C("div",{class:"line",":key":t},[D("div",null,k(t+1)+"、"+k(e.label)+" "+k(e.label_),1),D("div",Ga,k(e.msg),1),D("div",null,k(e.value),1)],8,Fa)))),256))])])):(y(),C("div",{key:1,class:"cont",innerText:e.menuItem.popup},null,8,Ha))])),_:1},8,["width"])):j("",!0)])),D("div",$a,[e.menuItem.isCuntom?(y(),C("div",Ja,["radio"==e.menuItem.popupObj.type?(y(),C("div",qa,[O(h,{modelValue:e.menuItem.popupObj.value,"onUpdate:modelValue":a[1]||(a[1]=t=>e.menuItem.popupObj.value=t),size:"small"},{default:b((()=>[(y(!0),C(w,null,I(e.menuItem.popupObj.children,((t,l)=>(y(),f(m,{onChange:a[0]||(a[0]=t=>s(e.menuItem)),label:t.label,value:t.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])):j("",!0)])):j("",!0),"radio"==e.menuItem.type?(y(),C("div",Wa,[O(h,{onChange:a[2]||(a[2]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value,"onUpdate:modelValue":a[3]||(a[3]=t=>e.menuItem.value=t),size:"small"},{default:b((()=>[(y(!0),C(w,null,I(e.menuItem.children,((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])):j("",!0),"checkbox"==e.menuItem.type?(y(),C("div",Qa,[O(x,{onChange:a[4]||(a[4]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value,"onUpdate:modelValue":a[5]||(a[5]=t=>e.menuItem.value=t),size:"small"},{default:b((()=>[(y(!0),C(w,null,I(e.menuItem.children,((e,t)=>(y(),f(v,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])):j("",!0),"input"==e.menuItem.type?(y(),C("div",Ya,[O(S,{"show-password":e.menuItem.showPassword,size:"small",onInput:u,modelValue:e.menuItem.value,"onUpdate:modelValue":a[6]||(a[6]=t=>e.menuItem.value=t),placeholder:"请输入"+e.menuItem.title},null,8,["show-password","modelValue","placeholder"])])):j("",!0),"textarea"==e.menuItem.type?(y(),C("div",Za,[O(S,{autosize:"",type:"textarea","show-password":e.menuItem.showPassword,size:"small",onInput:u,modelValue:e.menuItem.value,"onUpdate:modelValue":a[7]||(a[7]=t=>e.menuItem.value=t),placeholder:"Please input"},null,8,["show-password","modelValue"])])):j("",!0),"input-number"==e.menuItem.type?(y(),C("div",Ka,[O(T,{size:"small",min:e.menuItem.min,max:e.menuItem.max,onInput:a[8]||(a[8]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value,"onUpdate:modelValue":a[9]||(a[9]=t=>e.menuItem.value=t),placeholder:"Please input"},null,8,["min","max","modelValue"])])):j("",!0),"switch"==e.menuItem.type?(y(),C("div",Xa,[O(z,{onChange:a[10]||(a[10]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value,"onUpdate:modelValue":a[11]||(a[11]=t=>e.menuItem.value=t)},null,8,["modelValue"])])):j("",!0),"slider"==e.menuItem.type?(y(),C("div",el,[O(P,{size:"small",onChange:a[12]||(a[12]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value,"onUpdate:modelValue":a[13]||(a[13]=t=>e.menuItem.value=t),"show-input":"",max:e.menuItem.max,min:e.menuItem.min,"show-stops":e.menuItem.showStops,step:e.menuItem.step},null,8,["modelValue","max","min","show-stops","step"])])):j("",!0),"color-picker"==e.menuItem.type?(y(),C("div",tl,[O(N,{size:"small",onChange:u,modelValue:e.menuItem.value,"onUpdate:modelValue":a[14]||(a[14]=t=>e.menuItem.value=t)},null,8,["modelValue"])])):j("",!0),"color-picker-list"==e.menuItem.type?(y(),C("div",al,[(y(!0),C(w,null,I(e.menuItem.value,((t,a)=>(y(),f(N,{size:"small",key:a,onChange:u,modelValue:e.menuItem.value[a],"onUpdate:modelValue":t=>e.menuItem.value[a]=t},null,8,["modelValue","onUpdate:modelValue"])))),128))])):j("",!0),"input-list"==e.menuItem.type?(y(),C("div",ll,[(y(!0),C(w,null,I(e.menuItem.value,((t,a)=>(y(),C("div",{class:"wrap",key:a},[O(S,{"show-password":e.menuItem.showPassword,size:"small",onInput:u,modelValue:e.menuItem.value[a],"onUpdate:modelValue":t=>e.menuItem.value[a]=t,placeholder:"请输入"+e.menuItem.title},null,8,["show-password","modelValue","onUpdate:modelValue","placeholder"])])))),128))])):j("",!0),"input-number-list"==e.menuItem.type?(y(),C("div",ol,[e.menuItem.value.length<=0?(y(),C("span",{key:0,class:"add-btn",onClick:a[15]||(a[15]=t=>d(e.menuItem.value,0,1))},"添加")):j("",!0),(y(!0),C(w,null,I(e.menuItem.value,((t,l)=>(y(),C("div",{class:"wrap",key:l},[D("span",{class:"add-btn",onClick:t=>d(e.menuItem.value,l)},"添加",8,rl),O(T,{max:"max"in e.menuItem&&"xticks"==e.menuItem.prop&&l==e.menuItem.value.length-1?e.menuItem.max:e.menuItem.value[l+1],min:"min"in e.menuItem?e.menuItem.min:e.menuItem.value[l-1],size:"small",onInput:a[16]||(a[16]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.value[l],"onUpdate:modelValue":t=>e.menuItem.value[l]=t,placeholder:"Please input"},null,8,["max","min","modelValue","onUpdate:modelValue"]),D("span",{class:"delete-btn",onClick:t=>p(e.menuItem.value,l)},"删除",8,nl)])))),128))])):j("",!0),"tree-list"==e.menuItem.type?(y(),C("div",il,[e.menuItem.value.length<=0?(y(),C("span",{key:0,class:"add-btn",onClick:a[17]||(a[17]=t=>d(e.menuItem.value,0,V(n)))},"添加")):j("",!0),(y(!0),C(w,null,I(e.menuItem.value,((t,l)=>(y(),C("div",{class:"card",key:l},[D("span",{class:"add-btn",onClick:t=>d(e.menuItem.value,l)},"添加",8,sl),D("div",ul,[D("div",dl,"图"+k(l+1)+"：图标路径 (img_path)",1),O(S,{style:{width:"300px"},size:"small",onInput:u,modelValue:t.img_path,"onUpdate:modelValue":e=>t.img_path=e,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",pl,[cl,(y(!0),C(w,null,I(t.rect_size,((e,l)=>(y(),C("div",{class:"flex",key:l},[D("div",ml,k(0==l?"左":1==l?"下":2==l?"宽":"高"),1),O(T,{modelValue:t.rect_size[l],"onUpdate:modelValue":e=>t.rect_size[l]=e,size:"small",min:e.min,max:e.max,onInput:a[18]||(a[18]=e=>u("icon_img")),placeholder:"Please input"},null,8,["modelValue","onUpdate:modelValue","min","max"])])))),128))]),D("div",hl,[vl,D("div",gl,[O(h,{onChange:a[19]||(a[19]=e=>u("icon_img")),modelValue:t.x_alalignment,"onUpdate:modelValue":e=>t.x_alalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("div",yl,[fl,D("div",bl,[O(h,{onChange:a[20]||(a[20]=e=>u("icon_img")),modelValue:t.y_alalignment,"onUpdate:modelValue":e=>t.y_alalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("span",{class:"delete-btn",onClick:t=>p(e.menuItem.value,l)},"删除",8,_l)])))),128))])):j("",!0),"tree-list2"==e.menuItem.type?(y(),C("div",kl,[D("div",Cl,k(e.menuItem.title)+"("+k(e.menuItem.prop)+")",1),D("div",Il,[e.menuItem.value.length<=0?(y(),C("span",{key:0,class:"add-btn",onClick:a[21]||(a[21]=t=>d(e.menuItem.value,0,V(i)))},"添加")):j("",!0),(y(!0),C(w,null,I(e.menuItem.value,((t,l)=>(y(),C("div",{class:"card",key:l},[D("span",{class:"add-btn",onClick:t=>d(e.menuItem.value,l)},"添加",8,wl),D("div",xl,[Vl,O(T,{size:"small",onChange:a[22]||(a[22]=e=>u("other_desc")),modelValue:t.x,"onUpdate:modelValue":e=>t.x=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Sl,[Tl,O(T,{size:"small",onChange:a[23]||(a[23]=e=>u("other_desc")),modelValue:t.y,"onUpdate:modelValue":e=>t.y=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",zl,[Ol,D("div",Ll,[O(h,{onChange:a[24]||(a[24]=e=>u("other_desc")),modelValue:t.x_alalignment,"onUpdate:modelValue":e=>t.x_alalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("div",jl,[Dl,D("div",Pl,[O(h,{onChange:a[25]||(a[25]=e=>u("other_desc")),modelValue:t.y_alalignment,"onUpdate:modelValue":e=>t.y_alalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("div",Nl,[El,O(S,{style:{width:"300px"},size:"small",onInput:u,modelValue:t.s,"onUpdate:modelValue":e=>t.s=e,placeholder:"请输入标题描述"},null,8,["modelValue","onUpdate:modelValue"])]),t.pop?(y(),C("div",Bl,[Ul,D("div",Ml,[Rl,O(T,{size:"small",onInput:a[26]||(a[26]=e=>u("other_desc")),modelValue:t.pop.fontsize,"onUpdate:modelValue":e=>t.pop.fontsize=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Al,[Fl,O(h,{onChange:a[27]||(a[27]=e=>u("other_desc")),modelValue:t.pop.horizontalalignment,"onUpdate:modelValue":e=>t.pop.horizontalalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])]),D("div",Gl,[Hl,O(h,{onChange:a[28]||(a[28]=e=>u("other_desc")),modelValue:t.pop.verticalalignment,"onUpdate:modelValue":e=>t.pop.verticalalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(r),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])):j("",!0),D("span",{class:"delete-btn",onClick:t=>p(e.menuItem.value,l)},"删除",8,$l)])))),128))])])):j("",!0),"tree-list3"==e.menuItem.type?(y(),C("div",Jl,[D("div",ql,[(y(!0),C(w,null,I(e.menuItem.checkeds,((t,a)=>(y(),C("div",{class:"m-check",key:a},[O(v,{disabled:t.isDisabled,onChange:a=>((e,t)=>{if(t.value){let a={lower_level:3,shp_file:"",lw:1.2,ec:"#A57346",zorder:6-t.lower_level,vector_markers:{attr_info:"FNAME",out_attr_path:"D:/neo_share/fxds/data/绍兴市.csv",zorder:8,draw_mark:{is_display:!0,color:"#FF0000",radius:.01,style:1},draw_name:{is_display:!0,fontsize:15,color:"#FF0000",horizontalalignment:"left",verticalalignment:"center",x_pad:.01,y_pad:0}},is_display:!0};a.lower_level=t.lower_level;let l=0;for(let o=0;o<e.value.length;o++)t.lower_level>e.value[o].lower_level&&(l=o+1);e.value.splice(l,0,a)}else e.value.forEach(((a,l)=>{a.lower_level==t.lower_level&&e.value.splice(l,1)}));u("subordinate_regions")})(e.menuItem,t),modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,label:t.label,size:"small"},null,8,["disabled","onChange","modelValue","onUpdate:modelValue","label"])])))),128))]),(y(!0),C(w,null,I(e.menuItem.value,((t,n)=>(y(),C("div",{class:"card",key:n},[D("div",Wl,k(1==t.lower_level?"省":2==t.lower_level?"市":3==t.lower_level?"县":"镇"),1),D("div",Ql,[Yl,O(S,{size:"small",onInput:u,modelValue:t.shp_file,"onUpdate:modelValue":e=>t.shp_file=e,placeholder:"请输入标题描述"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Zl,[Kl,O(T,{size:"small",onInput:a[29]||(a[29]=e=>u("subordinate_regions")),modelValue:t.lw,"onUpdate:modelValue":e=>t.lw=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Xl,[eo,O(N,{size:"small",onChange:u,modelValue:t.ec,"onUpdate:modelValue":e=>t.ec=e},null,8,["modelValue","onUpdate:modelValue"])]),D("div",to,[ao,O(T,{size:"small",disabled:!0,onInput:a[30]||(a[30]=e=>u("subordinate_regions")),modelValue:t.zorder,"onUpdate:modelValue":e=>t.zorder=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",lo,[oo,O(z,{onChange:e=>(e=>{e.is_display?e.vector_markers={attr_info:"FNAME",out_attr_path:"D:/neo_share/fxds/data/绍兴市.csv",zorder:8,draw_mark:{is_display:!0,color:"#FF0000",radius:.01,style:1},draw_name:{is_display:!0,fontsize:15,color:"#FF0000",horizontalalignment:"left",verticalalignment:"center",x_pad:.01,y_pad:0}}:e.vector_markers={},u("subordinate_regions")})(t),modelValue:t.is_display,"onUpdate:modelValue":e=>t.is_display=e},null,8,["onChange","modelValue","onUpdate:modelValue"]),t.is_display?(y(),C("div",ro,[D("div",no,[io,O(S,{size:"small",onInput:u,modelValue:t.vector_markers.attr_info,"onUpdate:modelValue":e=>t.vector_markers.attr_info=e,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",so,[uo,O(S,{size:"small",onInput:u,modelValue:t.vector_markers.out_attr_path,"onUpdate:modelValue":e=>t.vector_markers.out_attr_path=e,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",po,[co,O(T,{size:"small",onInput:a[31]||(a[31]=e=>u("vector_markers")),modelValue:t.vector_markers.zorder,"onUpdate:modelValue":e=>t.vector_markers.zorder=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",mo,[D("div",ho,[vo,D("div",go,[yo,O(z,{onChange:a[32]||(a[32]=t=>u(e.menuItem.prop)),modelValue:t.vector_markers.draw_mark.is_display,"onUpdate:modelValue":e=>t.vector_markers.draw_mark.is_display=e},null,8,["modelValue","onUpdate:modelValue"])]),D("div",fo,[bo,O(N,{size:"small",onChange:u,modelValue:t.vector_markers.draw_mark.color,"onUpdate:modelValue":e=>t.vector_markers.draw_mark.color=e},null,8,["modelValue","onUpdate:modelValue"])]),D("div",_o,[ko,O(T,{size:"small",onInput:a[33]||(a[33]=e=>u("subordinate_regions")),modelValue:t.vector_markers.draw_mark.radius,"onUpdate:modelValue":e=>t.vector_markers.draw_mark.radius=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Co,[Io,O(h,{onChange:a[34]||(a[34]=t=>u(e.menuItem.prop)),modelValue:t.vector_markers.draw_mark.style,"onUpdate:modelValue":e=>t.vector_markers.draw_mark.style=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(l),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),D("div",wo,[D("div",xo,[Vo,D("div",So,[To,O(z,{onChange:a[35]||(a[35]=t=>u(e.menuItem.prop)),modelValue:t.vector_markers.draw_name.is_display,"onUpdate:modelValue":e=>t.vector_markers.draw_name.is_display=e},null,8,["modelValue","onUpdate:modelValue"])]),D("div",zo,[Oo,O(T,{size:"small",onInput:a[36]||(a[36]=e=>u()),modelValue:t.vector_markers.draw_name.fontsize,"onUpdate:modelValue":e=>t.vector_markers.draw_name.fontsize=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Lo,[jo,O(N,{size:"small",onChange:u,modelValue:t.vector_markers.draw_name.color,"onUpdate:modelValue":e=>t.vector_markers.draw_name.color=e},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Do,[Po,O(h,{onChange:a[37]||(a[37]=t=>u(e.menuItem.prop)),modelValue:t.vector_markers.draw_name.horizontalalignment,"onUpdate:modelValue":e=>t.vector_markers.draw_name.horizontalalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(o),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])]),D("div",No,[Eo,O(h,{onChange:a[38]||(a[38]=t=>u(e.menuItem.prop)),modelValue:t.vector_markers.draw_name.verticalalignment,"onUpdate:modelValue":e=>t.vector_markers.draw_name.verticalalignment=e,size:"small"},{default:b((()=>[(y(!0),C(w,null,I(V(r),((e,t)=>(y(),f(m,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])]),D("div",Bo,[Uo,O(T,{size:"small",onInput:a[39]||(a[39]=e=>u()),modelValue:t.vector_markers.draw_name.x_pad,"onUpdate:modelValue":e=>t.vector_markers.draw_name.x_pad=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Mo,[Ro,O(T,{size:"small",onInput:a[40]||(a[40]=e=>u()),modelValue:t.vector_markers.draw_name.y_pad,"onUpdate:modelValue":e=>t.vector_markers.draw_name.y_pad=e,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])])])])):j("",!0)])])))),128))])):j("",!0),"tree-list4"==e.menuItem.type?(y(),C("div",Ao,[D("div",Fo,[(y(!0),C(w,null,I(e.menuItem.checkeds,((t,a)=>(y(),C("div",{class:"m-check",key:a},[O(v,{disabled:t.isDisabled,onChange:a=>((e,t)=>{if(t.value){let a={lower_level:t.lower_level,shp_file:"",lw:.8,ec:"#A0D7F9",zorder:7};a.lower_level=t.lower_level;let l=0;for(let o=0;o<e.value.length;o++)t.lower_level>e.value[o].lower_level&&(l=o+1);e.value.splice(l,0,a)}else e.value.forEach(((a,l)=>{a.lower_level==t.lower_level&&e.value.splice(l,1)}));u("river_system")})(e.menuItem,t),modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,label:t.label,size:"small"},null,8,["disabled","onChange","modelValue","onUpdate:modelValue","label"])])))),128))]),(y(!0),C(w,null,I(e.menuItem.value,((e,t)=>(y(),C("div",{class:"card",key:t},[D("div",Go,k(1==e.lower_level?"1级":2==e.lower_level?"2级":3==e.lower_level?"3级":4==e.lower_level?"4级":"5级"),1),D("div",Ho,[$o,O(S,{size:"small",onInput:u,modelValue:e.shp_file,"onUpdate:modelValue":t=>e.shp_file=t,placeholder:"请输入标题描述"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Jo,[qo,O(T,{size:"small",onInput:a[41]||(a[41]=e=>u("river_system")),modelValue:e.lw,"onUpdate:modelValue":t=>e.lw=t,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Wo,[Qo,O(N,{size:"small",onChange:u,modelValue:e.ec,"onUpdate:modelValue":t=>e.ec=t},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Yo,[Zo,O(T,{size:"small",onInput:a[42]||(a[42]=e=>u("river_system")),modelValue:e.zorder,"onUpdate:modelValue":t=>e.zorder=t,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])])))),128))])):j("",!0)])],2)):(y(),C("div",Ko,[e.menuItem.isTop?j("",!0):(y(),C("div",Xo,[_(k(e.menuItem.title)+" ",1),e.menuItem.prop?(y(),C("span",er," ("+k(e.menuItem.prop)+")",1)):j("",!0),e.menuItem.popup?(y(),f(c,{key:1,class:"prpover-btn",placement:"top-start",width:e.menuItem.popupWidth,trigger:"click"},{reference:b((()=>[tr])),default:b((()=>["btn"==e.menuItem.popup?(y(),C("div",ar,[D("div",lr,k(e.menuItem.popupObj.title),1),D("div",or,[(y(!0),C(w,null,I(e.menuItem.popupObj.children,((e,t)=>(y(),C("div",{class:"line",":key":t},[D("div",null,k(t+1)+"、"+k(e.label)+" "+k(e.label_),1),D("div",nr,k(e.msg),1),D("div",null,k(e.value),1)],8,rr)))),256))])])):(y(),C("div",{key:1,class:"cont",innerText:e.menuItem.popup},null,8,ir))])),_:1},8,["width"])):j("",!0)])),e.menuItem.isCuntom?(y(),C("div",sr,["radio"==e.menuItem.popupObj.type?(y(),C("div",ur,[O(h,{modelValue:e.menuItem.popupObj.value,"onUpdate:modelValue":a[44]||(a[44]=t=>e.menuItem.popupObj.value=t),size:"small"},{default:b((()=>[(y(!0),C(w,null,I(e.menuItem.popupObj.children,((t,l)=>(y(),f(m,{onChange:a[43]||(a[43]=t=>s(e.menuItem)),label:t.label,value:t.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])):j("",!0)])):j("",!0),e.menuItem.isNegligible?(y(),C("div",dr,[O(z,{onChange:a[45]||(a[45]=t=>u(e.menuItem.prop)),modelValue:e.menuItem.ngligibleVal,"onUpdate:modelValue":a[46]||(a[46]=t=>e.menuItem.ngligibleVal=t)},null,8,["modelValue"])])):j("",!0),e.menuItem.isCuntom&&!e.menuItem.popupObj.value||e.menuItem.isNegligible&&!e.menuItem.ngligibleVal?j("",!0):(y(!0),C(w,{key:3},I(e.menuItem.children,(t=>(y(),f(pr,{onInputChange:u,key:t.name,menuItem:t,topItem:e.menuItem,defaultData:e.defaultData},null,8,["menuItem","topItem","defaultData"])))),128))]))],2)}}}),[["__scopeId","data-v-7d9e1d04"]]),cr=Object.freeze(Object.defineProperty({__proto__:null,default:pr},Symbol.toStringTag,{value:"Module"})),mr={data_type:"station",data_sources:"N3181,120.5239,30.6256,0.5;N3121,120.3294,30.6056,0.52;57960,120.4378,30.5422,0.42;N3141,120.5431,30.5333,0.6;N3141,120.5519,30.7458,0.6",interpolation:{method:{name:"idw",power:1,search_radius:6},scope:[],resolution:.002},area_para:{area_lev:1,area_code:330483},figure:{fig_size:[12,12],rect_size:[.1,.1,.8,.8]},map_para:{under_para:{under_type:"tianditu",level:11,layer:"vec",mark:"cva"},ax_pad:[.07,.07,.04,.04],area_shape_max:{shp_file:"",lw:1.2,ec:"#A57346",zorder:6,vector_markers:{attr_info:"FNAME",out_attr_path:"D:/neo_share/fxds/data/绍兴市.csv",zorder:8,draw_mark:{is_display:!0,color:"#FF0000",radius:.01,style:1},draw_name:{is_display:!0,fontsize:15,color:"#FF0000",horizontalalignment:"left",verticalalignment:"center",x_pad:.01,y_pad:0}}},subordinate_regions:[{lower_level:3,shp_file:"",lw:.8,ec:"#000000",zorder:3,vector_markers:{attr_info:"FNAME",out_attr_path:"D:/neo_share/fxds/data/绍兴市.csv",zorder:8,draw_mark:{is_display:!0,color:"#FF0000",radius:.01,style:1},draw_name:{is_display:!0,fontsize:15,color:"#FF0000",horizontalalignment:"left",verticalalignment:"center",x_pad:.01,y_pad:0}}}],river_system:[{lower_level:5,shp_file:"",lw:.8,ec:"#A0D7F9",zorder:7}],other_shape:[],grid_lines:{linewidth:0,color:"#CCCCCC",alpha:1,linestyle:"--"}},grade_para:{method:"natural_breaks",n_classes:4},contour_f:{fill_type:["area"],levels:[-20,-10,0,10,20],color_code:["#E5F2FA","#BADAF3","#A5BFF2","#80A6CB"],extend:"neither",alpha:.85,sigma:0,fill_val:{type:"grid",decimals:0,step:50},leg_para:{type:"lump",level_str:["低等级","较低等级","较高等级","高等级"],auto_size:0,reversed:"asc",patch:{edgecolor:"#000000",linewidth:.5},leg_handle:{ncol:4,loc:"lower center",handleheight:2,handlelength:3,frameon:!1,borderaxespad:0,fontsize:14},leg_title:{s:"图例(mm)",fontsize:13}}},ticks_para:{lon_ticks:[119.8,120.1,120.4,120.7,121],lat_ticks:[29.2,29.4,29.6,29.8,30,30.2],nx:1,ny:1,label_size:13,line_width:1.2,xy_formatter:{dms:!1},major:{width:1.2,length:6,pad:4,top:!0,right:!0,labeltop:!0,labelright:!0},minor:{width:1.2,length:4,pad:4,top:!0,right:!0,labeltop:!0,labelright:!0},plt_yticks:{rotation:90,verticalalignment:"center"}},desc_para:{heading:{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"地震烈度分析",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}},subtitle:{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"副标题",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}},pub_unit:{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"发布单位",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}},par_time:{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"制作时间",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}},other_desc:[{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"地震烈度分析",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}},{x:.04,y:.05,x_alalignment:"left",y_alalignment:"top",s:"地震烈度分析",pop:{fontsize:25,horizontalalignment:"left",verticalalignment:"bottom"}}]},com_scale:{compass:{x:.95,y:.92,size:15,style:"arrow"},scale:{x:.05,y:.1,length:5,units:"km",xticks:[0,3,5]}},icon_img:[{img_name:"img_1",img_path:"{root_dir}/data/icon/img_1.jpg",rect_size:[0,.045,.035,.035],x_alalignment:"left",y_alalignment:"top"}],out_para:{img_path:"{root_dir}/data/example/png/地震烈度分析.png",img_pop:{pad_inches:.3,dpi:96},geojson_path:""},data_conn:{engine:"mysql",host:"39.105.59.89",user:"root",passwd:"spd@123",port:8600,database:"product_image"}},hr=e=>(E("data-v-27f8ad53"),e=e(),B(),e),vr={class:"model-show"},gr={class:"content"},yr={class:"right"},fr={class:"input-wrap"},br=hr((()=>D("div",{class:"title"},"出图配置",-1))),_r={class:"ele-input"},kr={class:"foot-btn"},Cr=hr((()=>D("span",{style:{"margin-right":"5px"},class:"iconfont icon-shousuojiantou"},null,-1))),Ir=_("展开所有 "),wr=hr((()=>D("span",{style:{"margin-right":"5px"},class:"iconfont icon-shousuoshangjiantou"},null,-1))),xr=_("合并所有 "),Vr={class:"json-wrap"},Sr=hr((()=>D("div",{class:"title"},"JSON数据",-1))),Tr=_("复制"),zr={class:"foot-btn"},Or=_("保存"),Lr=ja(v({__name:"Index",props:{selItem:{type:Object,default:()=>{}},jsonString:{type:String,default:""},imgUrl:{type:String,default:""},defaultData:{type:Object,default:()=>{}}},emits:["update:isChangeJSON","changeDefaultValue"],setup(e,{emit:t}){const a=e,l=S({}),o=S("0"),r=S(null),n=T((()=>Gi.system.useUserStore(Fi).levelsTemp)),i=S([]),s=S(!1),u=e=>{},d=()=>{try{const e=JSON.parse(a.jsonString);t("changeDefaultValue"),t("update:isChangeJSON",{f:!0,json:e})}catch(e){N({message:"JSON格式不合法,请重新配置",type:"warning"})}},p=e=>{i.value=0==e?a.defaultData.map(((e,t)=>t)):[]},c=e=>{const l=JSON.parse(a.jsonString);m(l,a.defaultData,!0),m(mr,a.defaultData,!1),t("update:isChangeJSON",{f:!0,json:l}),P((()=>{V(e)}))},m=(e,t,a)=>{t.forEach(((r,i)=>{if(r.isNegligible&&!r.ngligibleVal&&a){if(e[r.prop]={},"grade_para"==r.prop){e.contour_f.levels=n.value;let a=t.filter((e=>"contour_f"==e.prop))[0],l=a.children.filter((e=>"levels"==e.prop))[0];if(n.value.length)l.value=n.value;else{let e=[],t=a.children.filter((e=>"color_code"==e.prop))[0].value.length;"neither"==Gi.system.useUserStore(Fi).className&&t++,"both"==Gi.system.useUserStore(Fi).className&&t--;for(let a=0;a<t;a++)e.push(5*a);Gi.system.useUserStore(Fi).changeLevelsTemp(e),l.value=e}}}else if("type"in r)r.type,"area_lev"==r.prop&&(o.value=r.value),r.prop,"subordinate_regions"==r.prop&&r.checkeds.forEach(((e,t)=>{e.lower_level>o.value?e.isDisabled=!1:(e.isDisabled=!0,e.value=!1,r.value.forEach(((t,a)=>{t.lower_level==e.lower_level&&r.value.splice(a,1)})))})),""===r.prop?e[i]=r.value:e&&Object.keys(e).length&&(e[r.prop]=r.value);else if(r.isCuntom&&"radio"==(null==r?void 0:r.popupObj.type))r.popupObj.value&&(r.popupObj.valueArr=r.children.map((e=>+e.value))),e[r.prop]=r.popupObj.valueArr;else if(e[r.prop]&&Object.keys(e[r.prop]).length)m(e[r.prop],r.children,a);else if(l.value={},h(mr,r),e[r.prop]=l.value,"grade_para"==r.prop){Gi.system.useUserStore(Fi).changeLevelsTemp(e.contour_f.levels),t.filter((e=>"grade_para"==e.prop))[0].children.filter((e=>"n_classes"==e.prop))[0].value=e.contour_f.color_code.length,t.filter((e=>"contour_f"==e.prop))[0].children.filter((e=>"levels"==e.prop))[0].value=[]}}))},h=(e,t)=>{if("object"==typeof e&&Object.keys(e).length)for(let a in e)a==t.prop?"object"==typeof e[a]&&Object.keys(e[a]).length&&(l.value=e[a]):h(e[a],t)},v=()=>{try{const e=JSON.parse(a.jsonString);t("update:isChangeJSON",{f:!1,json:e}),N({message:"保存成功",type:"success"})}catch(e){N({message:"JSON格式不合法,请重新配置",type:"warning"})}},x=()=>{try{const e=JSON.parse(a.jsonString),t=JSON.stringify(e,null,2);navigator.clipboard.writeText(t).then((()=>{N({message:"已复制至剪切板",type:"success"})})).catch((e=>{N({message:"复制失败",type:"error"})}))}catch(e){N({message:"复制失败,JSON格式不合法,请重新配置",type:"error"})}},V=e=>{if(!e)return;const t=document.getElementsByClassName("el-textarea__inner")[1];try{const l=a.jsonString.indexOf(`"${e}"`);t.focus(),t.setSelectionRange(l+1,l+e.length+1);const o=z(a.jsonString,e);null!==o&&(t.scrollTop=o)}catch(l){}},z=(e,t)=>{let a=e.split("\n"),l=-1;return a.forEach(((e,a)=>{-1!=e.indexOf(`"${t}"`)&&(l=a)})),-1!==l?20*l:null};return(t,a)=>{const l=g("el-image"),o=g("el-collapse-item"),n=g("el-collapse"),m=g("el-button"),h=g("el-input");return y(),C("div",vr,[D("div",gr,[O(l,{style:{width:"100%",height:"100%"},src:e.imgUrl,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[e.imgUrl],"initial-index":0,fit:"contain"},null,8,["src","zoom-rate","min-scale","preview-src-list"])]),D("div",yr,[D("div",fr,[br,D("div",_r,[O(n,{"model-value":i.value,onChange:u},{default:b((()=>[(y(!0),C(w,null,I(e.defaultData,((t,a)=>(y(),f(o,{key:a,name:a},{title:b((()=>[D("div",null,[D("span",{class:L(["iconfont",t.icon])},null,2),_(k(t.title)+"("+k(t.prop)+")",1)])])),default:b((()=>[O(pr,{menuItem:t,defaultData:e.defaultData,onInputChange:c},null,8,["menuItem","defaultData"])])),_:2},1032,["name"])))),128))])),_:1},8,["model-value"])]),D("div",kr,[O(m,{onClick:a[0]||(a[0]=e=>p(0)),type:"primary",plain:""},{default:b((()=>[Cr,Ir])),_:1}),O(m,{onClick:a[1]||(a[1]=e=>p(1)),type:"primary",plain:""},{default:b((()=>[wr,xr])),_:1})])]),D("div",Vr,[Sr,O(h,{ref_key:"elInputRef",ref:r,class:"json-input",onMouseenter:a[2]||(a[2]=U((e=>s.value=!0),["self"])),onMouseleave:a[3]||(a[3]=U((e=>s.value=!1),["self"])),modelValue:e.jsonString,"onUpdate:modelValue":a[4]||(a[4]=e=>M(jsonString)?jsonString.value=e:null),onInput:d,autosize:"",type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),R(O(m,{onMouseenter:a[5]||(a[5]=U((e=>s.value=!0),["self"])),onClick:x,size:"small",type:"info",class:"copy-btn"},{default:b((()=>[Tr])),_:1},512),[[A,s.value]]),D("div",zr,[O(m,{onClick:v,type:"primary",plain:""},{default:b((()=>[Or])),_:1})])])])])}}}),[["__scopeId","data-v-27f8ad53"]]),jr=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"})),Dr=[{title:"数据类型",icon:"icon-shujuleixing1",prop:"data_type",isTop:!0,value:"",type:"radio",children:[{label:"站点",value:"station"},{label:"格点",value:"grid"}]},{title:"数据来源",icon:"icon-shujuleixing-url",prop:"data_sources",value:"",popup:"btn",popupWidth:300,isCuntom:!0,popupObj:{title:"站点类型数据来源可包含",type:"radio",value:"",valueArr:[],children:[{type:"N",label:"自定义字符串",value:"N3181,120.5239,30.6256,0.5;N3121,120.3294,30.6056,0.52;57960,120.4378,30.5422,0.42;N3141,120.5431,30.5333,0.6;N3141,120.5519,30.7458,0.6"},{type:".csv",label:"csv文件",msg:"*注：确定文件存在",value:"./data/csv/obs_1.csv"},{type:"select",label:"sql语句",msg:" *注：顺序依次为站号、站名、经度、纬度、站点值。",value:"select Station_Id_C,Station_Name,Lon,Lat,Station_Val from t_station_val"}]},type:"textarea"},{title:"绘制区域",icon:"icon-huizhiquyu",prop:"area_para",isTop:!0,children:[{title:"区域等级",prop:"area_lev",type:"radio",value:"",children:[{value:"0",label:"中国"},{value:"1",label:"省"},{value:"2",label:"市"},{value:"3",label:"县"},{value:"4",label:"镇"}]},{title:"区域编码",prop:"area_code",type:"input",value:""}]},{title:"创建图像",icon:"icon-tuxiangshezhi",prop:"figure",isTop:!0,children:[{title:"图像画布大小；[width,height]",prop:"fig_size",children:[{title:"宽",prop:"",type:"input-number",value:0},{title:"高",prop:"",type:"input-number",value:0}]},{title:"子图区域的大小及位置。用来投影所需的区域；[left,bottom,width,height]",prop:"rect_size",children:[{title:"左",prop:"",type:"input-number",value:0},{title:"下",prop:"",type:"input-number",value:0},{title:"宽",prop:"",type:"input-number",value:0},{title:"高",prop:"",type:"input-number",value:0}]}]},{title:"图层设置",icon:"icon-tucengshezhi",prop:"map_para",isTop:!0,children:[{title:"底图设置为天地图；白板图忽略此参数。",prop:"under_para",children:[{title:"地图类型",prop:"under_type",type:"radio",value:"",children:[{value:"tianditu",label:"天地图"},{value:"baibantu",label:"白板图"}]},{title:"天地图缩放层次",prop:"level",type:"input-number",value:0},{title:"天地图对应的不同图层",prop:"layer",type:"radio",value:"",children:[{label:"矢量",value:"vec"},{label:"影像",value:"img"},{label:"地形",value:"ter"}]},{title:"不同图层的注记",prop:"mark",type:"radio",value:"",children:[{label:"矢量",value:"cva"},{label:"影像",value:"cia"},{label:"地形",value:"cta"}]}]},{title:"投影的区域距离坐标轴的距离",prop:"ax_pad",popup:"btn",isCuntom:!0,popupWidth:300,popupObj:{title:"投影的区域距离坐标轴的距离",type:"radio",value:"",valueArr:[],children:[{label:"自定义字符串",prop:"custom",label_:"[left,bottom,width,height]",value:"0.07,0.07,0.04,0.04"},{label:"自适应",prop:"system",label_:"",value:""}]},children:[{title:"左",prop:"",type:"input-number",value:0},{title:"下",prop:"",type:"input-number",value:0},{title:"宽",prop:"",type:"input-number",value:0},{title:"高",prop:"",type:"input-number",value:0}]},{title:"绘图区域对应的shp",prop:"area_shape_max",children:[{title:"自定义shp路径，默认空字符为程序自带的shp",prop:"shp_file",type:"input",value:""},{title:"shp线形宽度",prop:"lw",type:"input-number",value:0},{title:"线形",prop:"ec",type:"color-picker",value:""},{title:"图层顺序 最大的区域为6",prop:"zorder",type:"input-number",value:0},{title:"是否添加矢量标记",prop:"vector_markers",isNegligible:!0,ngligibleVal:!0,children:[{title:"需要标记的值在shp中对应的属性名称，如FNAME",prop:"attr_info",type:"input",value:""},{title:"通过out_attr_path将标记值导出为csv进行位置的微调后自定义使用，如： D:/neo_share/fxds/data/绍兴市.csv。",prop:"out_attr_path",type:"input",value:""},{title:"图层顺序 图层顺序 固定值 8",prop:"zorder",type:"input-number",value:8},{title:"绘制标记图形",prop:"draw_mark",children:[{title:"是否绘制",prop:"is_display",type:"switch",value:!1},{title:"颜色",prop:"color",type:"color-picker",value:""},{title:"半径",prop:"radius",type:"input-number",value:0},{title:"样式",prop:"style",type:"radio",value:"",children:[{value:"1",label:"小1"},{value:"2",label:"大2"}]}]},{title:"绘制名称",prop:"draw_name",children:[{title:"是否绘制",prop:"is_display",type:"switch",value:!1},{title:"字体大小",prop:"fontsize",type:"input-number",value:0},{title:"颜色",prop:"color",type:"color-picker",value:""},{title:"水平对齐",prop:"horizontalalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"垂直对齐",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]},{title:"半径距离x轴的外边距",prop:"x_pad",type:"input-number",value:0},{title:"距离y轴的外边距",prop:"y_pad",type:"input-number",value:0}]}]}]},{title:"是否叠加更多级别的shp",prop:"subordinate_regions",type:"tree-list3",value:[],checkeds:[{value:!1,isDisabled:!0,lower_level:1,label:"省"},{value:!1,isDisabled:!1,lower_level:2,label:"市"},{value:!1,isDisabled:!1,lower_level:3,label:"县"},{value:!1,isDisabled:!1,lower_level:4,label:"镇"}]},{title:"是否叠加流域图层",prop:"river_system",type:"tree-list4",value:[],checkeds:[{value:!1,isDisabled:!1,lower_level:1,label:"1级"},{value:!1,isDisabled:!1,lower_level:2,label:"2级"},{value:!1,isDisabled:!1,lower_level:3,label:"3级"},{value:!1,isDisabled:!1,lower_level:4,label:"4级"},{value:!1,isDisabled:!1,lower_level:5,label:"5级"}]},{title:"是否绘制网格线",prop:"grid_lines",children:[{title:"网格线宽度",prop:"linewidth",type:"input-number",value:0},{title:"网格线宽度",prop:"color",type:"color-picker",value:""},{title:"透明度",prop:"alpha",value:"",step:.1,type:"slider",showStops:!0,max:1,min:0},{title:"样式",prop:"linestyle",type:"radio",value:"",children:[{value:"--",label:"--"}]}]}]},{title:"分级方法",icon:"icon-fangfa",prop:"grade_para",isNegligible:!0,ngligibleVal:!0,isTop:!0,children:[{title:"分级方法(更多分级方法陆续接入中)",prop:"method",type:"radio",value:"",children:[{value:"natural_breaks",label:"自然断点"}]},{title:"分多少个区间",prop:"n_classes",min:0,type:"input-number",value:0}]},{title:"数据填充",icon:"icon-tianse",prop:"contour_f",isTop:!0,children:[{title:"填充类型",popup:"area等值面 | line等值线，两者都可以填充；填充的类型将对应输出的geojson文件， 这里填充几个类型，geojson将提取对应的几个类型。",prop:"fill_type",type:"checkbox",value:[],children:[{value:"area",label:"等值面"},{value:"line",label:"等值线"}]},{title:"颜色扩展方向",prop:"extend",popup:"neither：不延伸色标\nlevels和color_code长度为5: 4; \n both：向两端都延伸色标\nlevels和color_code长度为3： 4\nmin：仅向较小一端延伸色标\nlevels和color_code长度为4： 4\nmax：仅向较大一端延伸色标\nlevels和color_code长度为4： 4\n*注意：\n如果选择neither，那么5： 4的含义为\n5个区间数值和4个颜色：\n数值1-数值2 = 颜色1\n数值2-数值3 = 颜色2\n数值3-数值4 = 颜色3\n数值4-数值5 = 颜色4",popupWidth:250,value:"",type:"radio",children:[{value:"neither",label:"不扩展"},{value:"both",label:"向两端延伸色标"},{value:"min",label:"向较小一端延伸色标"},{value:"max",label:"向较大一端延伸色标"}]},{title:"区间对应的色标",prop:"color_code",value:["#E5F2FA","#BADAF3","#A5BFF2","#80A6CB"],type:"color-picker-list"},{title:"分多少个区间,区间对应的色标,色块对应的描述",prop:"levels",minLen:0,popupWidth:300,popup:"levels：如果使用 grade_para 分级方法，该参数失效，如没有使用grade_para分级方法，该参数必填 \ncolor_code：区间对应的色标\nvel_str：主要用于色块对应的描述；色条可忽略此参数，默认使用levels来描述。\n*该参数length要与contour_f中的color_code一样。一个颜色一个描述",value:[],type:"input-number-list"},{title:"图例设置",prop:"leg_para",children:[{title:"图例类型",prop:"type",type:"radio",value:"",children:[{value:"lump",label:"色块"},{value:"bar",label:"色条"}]},{title:"色块对应的描述",popup:"主要用于色块对应的描述",prop:"level_str",type:"input-list",value:[]},{title:"自适应的图例个数",prop:"auto_size",value:0,type:"input-number"},{title:"图例顺序",prop:"reversed",value:"",type:"radio",children:[{value:"asc",label:"升序"},{value:"desc",label:"降序"}]},{title:"边框样式",prop:"patch",children:[{title:"边框颜色",prop:"edgecolor",value:"",type:"color-picker"},{title:"边框宽度",prop:"linewidth",value:0,type:"input-number"}]},{title:"图例布局",prop:"leg_handle",children:[{title:"分几行显示",prop:"ncol",value:0,type:"input-number"},{title:"位置",prop:"loc",value:"",type:"radio",children:[{value:"best",label:"自动选择最好的位置"},{value:"upper right",label:"右上角"},{value:"upper left",label:"左上角"},{value:"lower left",label:"左下角"},{value:"lower right",label:"右下角"},{value:"right",label:"右边"},{value:"center left",label:"中间左边"},{value:"center right",label:"中间右边"},{value:"lower center",label:"底部中间"},{value:"upper center",label:"顶部中间"},{value:"center",label:"中间"}]},{title:"高度",prop:"handleheight",value:0,type:"input-number"},{title:"长度",prop:"handlelength",value:0,type:"input-number"},{title:"是否显示边框",prop:"frameon",value:!1,type:"switch"},{title:"图例和坐标轴之间的边距",prop:"borderaxespad",value:0,type:"input-number"},{title:"字体大小",prop:"fontsize",value:0,type:"input-number"}]},{title:"图例布局",prop:"leg_title",children:[{title:"图例标题",prop:"s",value:"",type:"input"},{title:"字体大小",prop:"fontsize",value:0,type:"input-number"}]}]},{title:"填充透明度；默认为1不透明",prop:"alpha",value:"",step:.1,type:"slider",showStops:!0,max:1,min:0},{title:"高斯滤波(平滑)的强度;默认为0;*值越大强度越高。",prop:"sigma",value:0,type:"input-number"},{title:"是否填值",prop:"fill_val",children:[{title:"类型",prop:"type",type:"radio",value:"",children:[{value:"grid",label:"格点",isDisabled:!1},{value:"station",label:"站点",isDisabled:!1}]},{title:"填值保留的小数",prop:"decimals",value:0,type:"input-number"},{title:"步长",popup:"如果分辨率太细，没有办法针对每个网格填值，根据区域进行缩放填值；只对grid填值生效",prop:"step",value:0,type:"input-number"}]}]},{title:"站点数据空间插值。",icon:"icon-kongjianchazhi",prop:"interpolation",isTop:!0,children:[{title:"插值方法及参数",prop:"method",popup:"数据类型是grid格点时忽略此参数",children:[{title:"插值方法",prop:"name",type:"radio",value:"",children:[{value:"idw",label:"idw"}]},{title:"幂值",prop:"power",type:"input-number",value:0},{title:"半径",prop:"search_radius",type:"input-number",value:0}]},{title:"插值的空间范围",prop:"scope",popup:"btn",isCuntom:!0,popupWidth:300,popupObj:{title:"插值的空间范围",type:"radio",value:"",valueArr:[],children:[{label:"自定义字符串",prop:"custom",label_:"[lon1,lon2,lat1,lat2]",value:"0,0,0,0"},{label:"自适应",prop:"system",label_:"",value:""}]},children:[{title:"lon1",prop:"",type:"input-number",value:0},{title:"lon2",prop:"",type:"input-number",value:0},{title:"lat1",prop:"",type:"input-number",value:0},{title:"lat2",prop:"",type:"input-number",value:0}]},{title:"插值数据的精度；空间分辨率",prop:"resolution",popup:"*需要从较大的分辨率尝试降低，从插值效果及效率来综合确定该值。例如从分辨率1开始逐步降低 0.9 0.7 依次类推",type:"input-number",value:0}]},{title:"坐标轴",icon:"icon-bianjizuobiaozhou",prop:"ticks_para",isTop:!0,children:[{title:"x轴主刻度标签；[]代表自适应",prop:"lon_ticks",type:"input-number-list",value:[]},{title:"y轴主刻度标签；[]代表自适应",prop:"lat_ticks",type:"input-number-list",value:[]},{title:"x轴主刻度之间次刻度的个数",prop:"nx",type:"input-number",value:0},{title:"y轴主刻度之间次刻度的个数",prop:"ny",type:"input-number",value:0},{title:"刻度值字体大小",prop:"label_size",type:"input-number",value:0},{title:"坐标轴线条粗细",prop:"line_width",type:"input-number",value:0},{title:"xy坐标轴刻度值格式化",prop:"xy_formatter",children:[{title:"将经纬度显示为度分秒格式",prop:"dms",type:"switch",value:!1}]},{title:"主刻度样式",prop:"major",children:[{title:"线条粗细",prop:"width",type:"input-number",value:0},{title:"线条长短",prop:"length",type:"input-number",value:0},{title:"标签和轴之间的间距",prop:"pad",type:"input-number",value:0},{title:"上轴是否显示刻度",prop:"top",type:"switch",value:!1},{title:"右轴是否显示刻度",prop:"right",type:"switch",value:!1},{title:"上轴是否显示标签",prop:"labeltop",type:"switch",value:!1},{title:"右轴是否显示标签",prop:"labelright",type:"switch",value:!1}]},{title:"次刻度样式",prop:"minor",children:[{title:"线条粗细",prop:"width",type:"input-number",value:0},{title:"线条长短",prop:"length",type:"input-number",value:0},{title:"标签和轴之间的间距",prop:"pad",type:"input-number",value:0},{title:"上轴是否显示刻度",prop:"top",type:"switch",value:!1},{title:"右轴是否显示刻度",prop:"right",type:"switch",value:!1},{title:"上轴是否显示标签",prop:"labeltop",type:"switch",value:!1},{title:"右轴是否显示标签",prop:"labelright",type:"switch",value:!1}]},{title:"y轴标签样式",prop:"plt_yticks",children:[{title:"旋转多少度",prop:"rotation",type:"input-number",value:0},{title:"垂直对齐方式",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]}]}]},{title:"文组描述",icon:"icon-wenzi",prop:"desc_para",isTop:!0,children:[{title:"主标题",prop:"heading",popup:"文组描述；主要包含主标题、副标题、发布单位、时间等一些文字描述。不需要时忽略此参数。\n *注意: \nx:0.005 x_alalignment:left代表文字距离ax left边界 0.005",popupWidth:250,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"沿x轴对齐方式",prop:"x_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"沿y轴对齐方式",prop:"y_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"标题描述",prop:"s",type:"input",value:""},{title:"字体设置",prop:"pop",children:[{title:"字体大小",prop:"fontsize",type:"input-number",value:0},{title:"水平对齐",prop:"horizontalalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"垂直对齐",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]}]}]},{title:"副标题",prop:"subtitle",popup:"文组描述；主要包含主标题、副标题、发布单位、时间等一些文字描述。不需要时忽略此参数。\n *注意: \nx:0.005 x_alalignment:left代表文字距离ax left边界 0.005",popupWidth:250,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"沿x轴对齐方式",prop:"x_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"沿y轴对齐方式",prop:"y_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"标题描述",prop:"s",type:"input",value:""},{title:"字体设置",prop:"pop",children:[{title:"字体大小",prop:"fontsize",type:"input-number",value:0},{title:"水平对齐",prop:"horizontalalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"垂直对齐",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]}]}]},{title:"发布单位",prop:"pub_unit",popupWidth:250,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"沿x轴对齐方式",prop:"x_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"沿y轴对齐方式",prop:"y_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"标题描述",prop:"s",type:"input",value:""},{title:"字体设置",prop:"pop",children:[{title:"字体大小",prop:"fontsize",type:"input-number",value:0},{title:"水平对齐",prop:"horizontalalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"垂直对齐",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]}]}]},{title:"制作时间",prop:"par_time",popupWidth:250,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"沿x轴对齐方式",prop:"x_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"沿y轴对齐方式",prop:"y_alalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"标题描述",prop:"s",type:"input",value:""},{title:"字体设置",prop:"pop",children:[{title:"字体大小",prop:"fontsize",type:"input-number",value:0},{title:"水平对齐",prop:"horizontalalignment",type:"radio",value:"",children:[{value:"top",label:"靠上"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"},{value:"left",label:"靠左"}]},{title:"垂直对齐",prop:"verticalalignment",type:"radio",value:"",children:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"},{value:"bottom",label:"靠下"}]}]}]},{title:"其它多种文字描述",prop:"other_desc",isTop:!0,value:[],type:"tree-list2"}]},{title:"指北针和比例尺",icon:"icon-bilichi",prop:"com_scale",isTop:!0,children:[{title:"指北针；不需要时忽略此参数",prop:"compass",isNegligible:!0,ngligibleVal:!0,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"大小",prop:"size",type:"input-number",value:0},{title:"样式",prop:"style",type:"radio",value:"",children:[{value:"arrow",label:"箭头"},{value:"star",label:"星标"}]}]},{title:"比例尺；不需要时忽略此参数",prop:"scale",isNegligible:!0,ngligibleVal:!0,children:[{title:"x轴坐标位置",prop:"x",type:"input-number",value:0},{title:"y轴坐标位置",prop:"y",type:"input-number",value:0},{title:"长度",prop:"length",type:"input-number",value:0,min:0},{title:"单位",prop:"units",type:"radio",value:"",children:[{value:"km",label:"km"},{value:"m",label:"m"}]},{title:"标签",prop:"xticks",max:0,min:0,type:"input-number-list",value:[]}]}]},{title:"图标",icon:"icon-tubiao",isTop:!0,prop:"icon_img",value:[],type:"tree-list"},{title:"输出配置",icon:"icon-shuchu",prop:"out_para",isTop:!0,children:[{title:"产品图像输出地址",prop:"img_path",type:"input",value:""},{title:"输出图像的一些参数",prop:"img_pop",children:[{title:"四周留白距离",prop:"pad_inches",type:"input-number",value:0},{title:"分辨率",prop:"dpi",type:"input-number",value:0}]},{title:"提取geo_json文件",prop:"geojson_path",popup:"与contour_f的fill_type相应，根据填充类型进行提取",type:"input",value:""}]},{title:"数据库配置",icon:"icon-shujukushezhi",prop:"data_conn",isTop:!0,children:[{title:"数据引擎；目前只支持myslq",prop:"engine",value:"",type:"radio",children:[{label:"mysql",value:"mysql"}]},{title:"IP",prop:"host",value:"",type:"input"},{title:"用户名",prop:"user",value:"",type:"input"},{title:"密码",prop:"passwd",showPassword:!0,value:"",type:"input"},{title:"端口",prop:"port",value:0,type:"input-number"},{title:"数据库名称",prop:"database",value:"",type:"input"}]},{title:"test",prop:"test",isTop:!0,value:"",type:"input"}],Pr={class:"drag-box text-white"},Nr=ja(v({__name:"Index",setup(e){x((e=>({"346c9780":V(d).header.themeHeaderContentBackgroundColor})));const{formatData:t}=function(){let e=[],t=[],a=[];const l=S({}),o=S("0"),r=e=>{e.forEach((e=>{e.children&&(e.children=e.children.filter((e=>!e.isNotShow)),r(e.children))}))},n=(e,t)=>{if("Array"==e.constructor.name)e.forEach(((e,a)=>{t[a].value=e}));else for(let a in e)e[a]&&t.forEach((t=>{if(t.prop===a)if("type"in t){if("xticks"==a&&(t.max=e.length),"area_lev"==a&&(o.value=e[a]),"extend"==a&&Gi.system.useUserStore(Fi).changeClassName(e[a]),"river_system"==a&&e[a].forEach(((e,a)=>{let l=e.lower_level;t.checkeds[l-1]&&(t.checkeds[l-1].value=!0)})),"subordinate_regions"==a&&(t.checkeds.forEach((e=>{e.lower_level<=o.value?e.isDisabled=!0:e.isDisabled=!1})),e[a].forEach(((e,a)=>{let l=e.lower_level;"vector_markers"in e&&(Object.keys(e.vector_markers).length?e.is_display=!0:e.is_display=!1),l>o.value&&(t.checkeds[l-1].value=!0)}))),t.value=e[a],t.isCuntom&&"radio"==(null==t?void 0:t.popupObj.type)){t.popupObj.value=e[a];let l=!1;t.popupObj.children.forEach((t=>{e[a].includes(t.type)&&(l=!0,t.value=e[a])})),l||(t.popupObj.children[0].value=e[a])}}else t.isCuntom&&"radio"==(null==t?void 0:t.popupObj.type)?(t.popupObj.value=e[a].toString(),t.popupObj.children.forEach((t=>{t.value.length&&e[a].toString().length&&(t.value=e[a].toString())})),e[a].forEach(((e,a)=>{t.children[a].value=+e}))):0==Object.keys(e[a]).length?(t.isNegligible=!0,t.ngligibleVal=!1,l.value={},i(mr,t),n(l.value,t.children)):n(e[a],t.children)}));return t},i=(e,t)=>{if("object"==typeof e&&Object.keys(e).length)for(let a in e)a==t.prop?"object"==typeof e[a]&&Object.keys(e[a]).length&&(l.value=e[a]):i(e[a],t)},s=(e,a)=>{a.forEach(((a,l)=>{a.prop in e||""==a.prop?"value"in a||!(null==a?void 0:a.children)||a.isNegligible||s(e[a.prop],a.children):(a.isNegligible&&a.prop in e||(a.isNotShow=!0),t.push(a.prop))}))},u=(e,l,o)=>{o.forEach((e=>{l.includes(e)||t.push(e.title)}));for(let t in e)o.some((e=>e.prop===t))||a.push(t)};return{formatData:(l,o)=>{t=[],a=[];let i=JSON.parse(JSON.stringify(o));e=[];for(let t in l)i.forEach((a=>{a.prop===t&&e.push(a)}));const d=n(l,e);return s(l,d),r(d),u(l,d,i),d}}}(),a="/productImage/dist/",l=S([{name:"地图模板",children:[{name:"产品制作",children:[{name:"绍兴市实况气温分布图",imgurl:"绍兴市实况气温分布图.png",jsonurl:"绍兴市实况气温分布图.json",catalogue:"产品制作"},{name:"绍兴市实况降水分布图",imgurl:"绍兴市实况降水分布图.png",jsonurl:"绍兴市实况降水分布图.json",catalogue:"产品制作"}]},{name:"风险大师",children:[{name:"地震烈度分析",imgurl:"地震烈度分析.png",jsonurl:"地震烈度分析.json",catalogue:"风险大师"}]}]},{name:"数据模板",children:[{name:"数据模板1",imgurl:"model3.png"}]}]),o=S({}),r=S(""),n=S(!1),i=S(""),s=S([]),u=e=>{const{f:t,json:a}=e;n.value=t,r.value=JSON.stringify(a,null,2)};F(r,(e=>{}));const d=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]})),p=(e,t)=>{for(let a=0;a<e.length;a++){if(e[a].index===t)return e[a];if(e[a].children){const l=p(e[a].children,t);if(l)return l}}},c=e=>{Gi.system.useUserStore(Fi).changeLevelsTemp([]),o.value=p(l.value,e);const t=`${a}example/para/${o.value.catalogue}/${o.value.jsonurl}`;i.value=`${a}example/png/${o.value.catalogue}/${o.value.imgurl}`,fa.getStaticData(t).then((e=>{u({f:!1,json:e.data}),m()}))},m=()=>{P((()=>{s.value=t(JSON.parse(r.value),Dr)}))},h=(e,t="")=>{e.forEach(((e,a)=>{e.children&&e.children.length?(e.index=t?`${t}-${a}`:`${a}`,h(e.children,e.index)):e.index=t?`${t}-${a}`:`${a}`}))};return G((()=>{h(l.value)})),z((()=>{})),(e,t)=>(y(),C("div",Pr,[O(Da,{modelMenu:l.value,isChanged:n.value,"onUpdate:changeModel":c},null,8,["modelMenu","isChanged"]),O(Lr,{selItem:V(o),jsonString:r.value,defaultData:s.value,imgUrl:V(i),"onUpdate:isChangeJSON":u,onChangeDefaultValue:m},null,8,["selItem","jsonString","defaultData","imgUrl"])]))}}),[["__scopeId","data-v-8b9dd4c2"]]),Er=Object.freeze(Object.defineProperty({__proto__:null,default:Nr},Symbol.toStringTag,{value:"Module"}));const Br=ja(v({name:"VcDemoPageDynamicRender"}),[["render",function(e,t,a,l,o,r){const n=g("router-view");return y(),f(n)}]]),Ur=Object.freeze(Object.defineProperty({__proto__:null,default:Br},Symbol.toStringTag,{value:"Module"})),Mr={class:"page-demo-dynamic-overlay absolute z-fab"},Rr=v({__name:"Index",setup(e){const{loadDefaultLayers:a}=Gi.viewer.useLayerStore(),l=S(null),o=S(!1),r=S(null),n=S(null),i=S(null);z((()=>{a(!0),fa.getStaticData("/datas/dynamic-overlay.json").then((e=>{s([e.data])}))})),H((()=>{var e;e="/dynamic-render/historical-track",Gi.viewer.useRenderStore(Fi).removeRenderDataByPage(e)}));const s=async e=>{if(await Jt("DynamicOverlay"));else{const t={id:"DynamicOverlay",name:"历史轨迹",page:"/dynamic-render/historical-track",datasets:[]},{overlays:a,stops:s}=d(e),u={show:!0,dynamicOverlays:a};t.datasets.push({cmpName:"VcOverlayDynamic",props:{shouldAnimate:o,"onUpdate:shouldAnimate":e=>{o.value=e},currentTime:r,startTime:n,stopTime:i,multiplier:1e3,onReady:e=>{l.value=e.vm,p(202106)},...u}}),t.datasets.push({cmpName:"VcCollectionPoint",props:{points:s}}),Ht(t)}},d=e=>{const a=[],l=[];return e.forEach((e=>{const o=[],r=[],n=t(e,"checked");e.stops.forEach((e=>{o.push({position:[e.lon,e.lat],time:e.DATE_TIME,id:u()}),r.push([e.lon,e.lat]),l.push({id:u(),position:[e.lon,e.lat],color:"rgb(255,229,0)",show:n,...e,distanceDisplayCondition:[0,5e6],scaleByDistance:[100,2,25e5,.5],onMouseover:e=>{},onMouseout:e=>{}})})),a.push({id:String(e.TYPHOON_ID),show:n,maxCacheSize:e.stops.length,polyline:{positions:r,width:3,material:e.TYPHOON_CODE?"#2d8cf0":"#69B273",depthFailMaterial:e.TYPHOON_CODE?"#2d8cf0":"#69B273",clampToGround:!0},sampledPositions:o})})),{overlays:a,stops:l}},p=e=>{const t=Jt("DynamicOverlay");if(t){t.datasets[0].cmpRef.zoomToOverlay(String(e))}else Et("定位到该对象失败，原因：还未添加。")};return(e,t)=>(y(),C("div",Mr))}}),Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Rr},Symbol.toStringTag,{value:"Module"}));function Fr(){const e=$(),t=it(),{toggleGlobalLayout:a,toggleDynamicRenderPageLayout:l}=Gi.system.useLayoutStore(),o=J({selectedId:"",datasourceCategories:[],loading:!1,hasLoadingError:!1,filterText:"",selectedKey:""}),r=Gi.system.useLayoutStore().dynamicRender,i=T((()=>{let e=[];try{null==o||o.datasourceCategories.forEach((t=>{if(t.id===o.selectedId)throw e=t.children,new Error("endForEach")}))}catch(t){if("endForEach"!==t.message)throw t}return e}));t.vm.vcMitt.on("pickEvt",(e=>{o.selectedKey=e}));const s=()=>{o.datasourceCategories.forEach((e=>{var t;null==(t=null==e?void 0:e.children)||t.forEach((e=>{const t=e;(null==t?void 0:t.children)&&u(!0,t)}))}))},u=(t,a,l,o)=>{var r;const i={onReady:e=>{}};if(n(a,"type")&&n(a,"properties")){const o=a;!0===t&&(Cesium.defined(o.properties.datasetId)||$t(null==l?void 0:l.id),P((()=>{if(Jt(o.properties.datasetId));else{if(!l)return void Et("添加渲染数据集失败，原因：要素节点不能作为顶节点，请将其放到数据集节点下。","数据模型：",a);if(null==l?void 0:l.renderingType){const t=()=>fa.getStaticData(l.fetchStr);l.loading=!0,Xt(l,t,e.path,"recursive-list",i).finally((()=>{l.loading=!1}))}else""!==l.renderingType&&Et("添加渲染数据集失败，原因：未知的显示类型。","数据模型：",l)}})))}else{const l=a;if(!0===t){if(Jt(l.id));else if(l.renderingType){const t=()=>fa.getStaticData(l.fetchStr);l.loading=!0,Xt(l,t,e.path,"recursive-list",i).finally((()=>{l.loading=!1}))}else""!==l.renderingType&&Et("添加渲染数据集失败，原因：未知的显示类型。","数据模型：",l)}else $t(l.id),null==(r=null==l?void 0:l.children)||r.forEach((e=>{u(t,e,l)}))}};return{workBenchModel:o,dynamicRenderLayout:r,selectedDatasetCategories:i,init:()=>{o.loading=!0,(async()=>(o.hasLoadingError=!1,ba.getTreeData().then((e=>{if(e.data.code)return;const t=e.data;return o.selectedId=t[0].id,o.datasourceCategories=t,s(),!0})).catch((e=>{o.hasLoadingError=!0}))))().then((()=>{o.loading=!1,a({navigation:!0}),l({datasource:{workBench:!0}})}))},showFeatureInfo:(e,t)=>{!function(e,t){const{toggleGlobalLayout:a}=Gi.system.useLayoutStore(Fi);"摄像头"===e.properties.datasetName&&a({videoPlayer:!0}),a({featureInfo:!0});const l=Object.keys(e.properties).map((t=>({label:t,value:e.properties[t]})));if(t)qt({...t,restoreHandlers:[],featureInfoListItems:l});else{if(!Qt(e.properties.renderingType,e.properties.datasetId,e.properties.id))return void qt({...t,restoreHandlers:[],featureInfoListItems:l});Wt(e.properties.renderingType,e.properties.datasetId,e,l)}}(t)},flyToFeature:(e,a,l)=>{t.vm.vcMitt.emit("pickEvt",a.properties.id),async function(e,t,a={isHighlightRenderData:!0,showBillboardOverlayMenu:!0,duration:1.5}){var l,o,r,n,i;const s=(null==(l=null==t?void 0:t.properties)?void 0:l.actualRenderingType)||(null==(o=null==t?void 0:t.properties)?void 0:o.renderingType);if(!s)return void Et("定位到要素失败，原因：未知的显示类型。","要素模型：",t);const u=t.properties.datasetId,d=await Jt(u);if(!d)return void Et("定位到要素失败，原因：未找到该要素所在的渲染数据。","要素模型：",t);const p=t.properties.id;if(a.isHighlightRenderData&&Wt(s,u,t),t.properties.vcCamera)return void nt(e,t.properties.vcCamera);const{toggleGlobalLayout:c}=Gi.system.useLayoutStore(Fi);switch(s){case"billboard":case"point":case"label":case"polyline":case"polygon":case"model":if(c({featureInfo:!1}),null==(r=null==d?void 0:d.datasets)?void 0:r.length){const t=(null==(n=d.datasets[0].cmpRef)?void 0:n.cesiumObject).entities.values.find((e=>e.feature.properties.id===p));e.flyTo(t,{...a}).then((()=>{}))}break;default:if(c({featureInfo:!1}),null==(i=null==d?void 0:d.datasets)?void 0:i.length){const l=d.datasets.find((e=>e.feature.properties.id===t.properties.id)).cmpRef.cesiumObject;e.flyTo(l,{...a}).then((()=>{}))}}}(t.viewer,a)},onLazyLoad:e=>{const t=e.dataset;if(e.key.indexOf("Lazy load empty")>-1)return void e.done([]);t.loading=!0,Kt(t,(()=>fa.getStaticData(t.fetchStr))).then((async a=>{var l;a?e.done(a):e.fail();if(!(await Jt(t.id))){const e=null==(l=t.children)?void 0:l.filter((e=>e.properties.checked));e&&e.length>0&&u(!0,t)}t.loading=!1}))},addOrRemoveDataset:u,toggleDynamicRenderPageLayout:l}}const Gr={class:"loading-ios flex column justify-center items-center z-top"},Hr={key:2},$r={key:0,class:"q-pt-md"},Jr=v({__name:"Ios",props:{size:{type:String,default:"3em"},dense:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},errorMsg:{type:String,default:""},errorTip:{type:String,default:"数据加载失败，点我重试"},tipText:{type:String,default:"加载中..."}},emits:["retry"],setup(e,{emit:t}){const a=()=>{t("retry")};return(t,l)=>(y(),C("div",Gr,[e.hasError?(y(),f(ve,{key:1,icon:"error",size:e.size,color:"red",round:"",flat:"",dense:""},{default:b((()=>[O(he,null,{default:b((()=>[_("加载失败，原因："+k(e.errorMsg),1)])),_:1})])),_:1},8,["size"])):(y(),f(me,{key:0,size:e.size},null,8,["size"])),e.dense?j("",!0):(y(),C("div",Hr,[e.hasError?(y(),f(ge,{key:1,clickable:"",color:"red","text-color":"white",icon:"error",onClick:a},{default:b((()=>[_(k(e.errorTip),1)])),_:1})):(y(),C("div",$r,[D("span",null,k(e.tipText),1)]))]))]))}}),qr=v({name:"VcDataTreeGeojson",props:{dense:Boolean,nodes:{type:Array,default:()=>[]},filter:String,tickStrategy:{type:String,default:"leaf-filtered"},selectedColor:String,selected:String},emits:{checked:(e,t,a,l)=>!0,"lazy-load":e=>!0,"update:selected":(e,t,a)=>!0,zoomIconClicked:(e,t,a)=>!0},setup(e,t){const a=S({});let l={};q((()=>{l={}}));const o=T((()=>void 0!==e.selected)),r=T((()=>(e,t)=>{const a=t.toLowerCase();return(e.name||e.properties.name).toLowerCase().indexOf(a)>-1})),i=T((()=>{const t={},l=(i,s,u)=>{const d=u?u.tickStrategy:e.tickStrategy;let p,c,m,h,v,g,y,f,b,_,k;if(n(i,"type")&&n(i,"properties")){const e=i;p=e.properties.id,c=!1,m=!1,h=e.properties.name,v=u?u.level+1:1,y=e.properties.checked,g=!1,f=e.properties.disabled,b=e.properties.noTick,_=void 0,k=!0!==e.properties.disabled&&!1!==e.properties.tickable}else{const e=i;p=e.id,c=(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0,m=e.lazy,h=e.name,!0===m&&void 0!==a.value[p]&&!0===Array.isArray(e.children)&&(m=a.value[p]),v=u?u.level+1:1,y=e.checked,g=e.expanded,f=e.disabled,b=e.noTick,_=e.indeterminate,k=!0!==e.disabled&&!1!==e.tickable||!e.children}const C=!0!==c,I=!0!==f&&!0===o.value,w="none"!==d,x="strict"===d,V="leaf-filtered"===d,S="leaf"===d||"leaf-filtered"===d;!0===S&&!0===k&&u&&!0!==u.tickable&&(k=!1);const T={index:s,name:h,key:p,parent:u,isParent:c,isLeaf:C,lazy:m,disabled:f,level:v,children:[],matchesFilter:!e.filter||r.value(i,e.filter),selected:p===e.selected&&!0===I,selectable:I,expanded:g,expandable:!0,noTick:!0===b||!0!==x&&m&&"loaded"!==m,tickable:k,tickStrategy:d,hasTicking:w,strictTicking:x,leafFilteredTicking:V,leafTicking:S,indeterminate:_,indeterminateNextState:void 0,ticked:y};if(t[p]=T,!0===c){const t=i;if(T.children=t.children.map(((e,t)=>l(e,t,T))),e.filter&&(!0!==T.matchesFilter?T.matchesFilter=T.children.some((e=>e.matchesFilter)):!0!==T.noTick&&!0!==T.disabled&&!0===T.tickable&&!0===V&&!0===T.children.every((e=>!0!==e.matchesFilter||!0===e.noTick||!0!==e.tickable))&&(T.tickable=!1)),!0===T.matchesFilter&&(!0!==T.noTick&&!0!==x&&!0===T.children.every((e=>e.noTick))&&(T.noTick=!0),S)){if(T.ticked=!1,T.indeterminate=T.children.some((e=>{if(n(e,"type")&&n(e,"properties")){return!0===e.properties.indeterminate}return!0===e.indeterminate})),T.tickable=!0===T.tickable&&T.children.some((e=>e.tickable)),!0!==T.indeterminate){const e=T.children.reduce(((e,t)=>!0===t.ticked?e+1:e),0);e===T.children.length?T.ticked=!0:e>0&&(T.indeterminate=!0)}!0===T.indeterminate&&(T.indeterminateNextState=T.children.every((e=>(!0!==e.tickable||!0!==e.ticked)&&!1!==e.indeterminateNextState)))}}return T};return e.nodes.forEach(((e,t)=>l(e,t,null))),t})),s=(e,l,o,r=i.value[e])=>{if(r.lazy&&"loaded"!==r.lazy){if("loading"===r.lazy)return;a.value[e]="loading",!0!==Array.isArray(o.children)&&(o.children=[]),t.emit("lazy-load",{dataset:o,key:e,done:t=>{a.value[e]="loaded",o.children=!0===Array.isArray(t)?[...null==o?void 0:o.children,...t]:[...null==o?void 0:o.children],P((()=>{const t=i.value[e];t&&t.isParent}))},fail:()=>{delete a.value[e],0===o.children.length&&delete o.children}})}else!0===r.isParent&&r.expandable},u=(a,l,o,i)=>{if(!0===o.indeterminate&&(a=o.indeterminateNextState),o.strictTicking);else if(o.leafTicking){void 0===a&&(a=!1);const t=(l,o)=>{var i;if(n(l,"type")&&"Feature"===l.type){const t=l;if(e.filter){r.value(l,e.filter)&&(t.properties.checked=a)}else t.properties.checked=a}else{const e=l;e.checked=a,e.indeterminate=void 0,null==(i=null==e?void 0:e.children)||i.forEach((e=>t(e)))}};t(l)}t.emit("checked",a,l,i,o.index)};function d(e){const t=l[e];t&&t.focus()}const p=(a,l)=>{if(n(a,"type")&&"Feature"===a.type){const e=a,r=e.properties.id,n=i.value[r],s=[];for(let t=0;t<n.level-1;t++)s.push(W(fe,{side:!0}));return s.push(W(fe,{side:!0},(()=>W(be,{modelValue:n.ticked,dense:!0,disable:!0!==n.tickable,"onUpdate:modelValue":t=>u(t,e,n,l)})))),s.push(W(fe,{side:!0},(()=>W(_e,{size:"16px",name:e.properties.icon||"circle",style:"color: #00e472"})))),s.push(W(fe,{},(()=>W(ke,{},(()=>e.properties.name))))),"loading"!==n.lazy&&!0!==e.properties.loading||s.push(W(fe,{side:!0},(()=>W(Jr,{size:"1.5em",dense:!0})))),e.properties.checked&&s.push(W(fe,{side:!0},(()=>W(_e,{size:"20px",name:"room",onClick:a=>{((e,a,l,o)=>{!0!==o&&d(a.key),t.emit("zoomIconClicked",a.key,e,a.index),l.stopPropagation()})(e,n,a)}})))),R(W(Ie,{clickable:!0,activeClass:"text-amber-6",dark:!0,active:n.selected,onClick:a=>{((e,a,l,r)=>{!0!==r&&d(a.key),o.value&&a.selectable&&t.emit("update:selected",a.key,e,a.index),"function"==typeof e.properties.handler&&e.properties.handler(e)})(e,n)}},(()=>s)),[[Ce]])}{const t=a,o=t.id,r=i.value[o],n=!0===r.isParent?c(t.children,t):[];if(n.length>0||r.lazy&&"loaded"!==r.lazy){const a=[];for(let e=0;e<r.level-1;e++)a.push(W(fe,{side:!0}));a.push(W(fe,{side:!0},(()=>W(be,{modelValue:!0===r.indeterminate?null:r.ticked,disable:!0!==r.tickable||!(null==t?void 0:t.children),dense:!0,"onUpdate:modelValue":e=>u(e,t,r,l)})))),a.push(W(fe,{side:!0},(()=>W(_e,{size:"16px",name:"home",style:"color: #00e472"})))),a.push(W(fe,{},(()=>W(ke,{},(()=>t.name)))));const o=(e=>{let t=0;const a=e=>{e.forEach((e=>{e.children?a(null==e?void 0:e.children):t++}))};return a((null==e?void 0:e.children)||[]),t})(t);return 0!==o&&a.push(W(fe,{side:!0},(()=>W(ge,{dense:!0,dark:!0},(()=>`${o}条`))))),"loading"!==r.lazy&&!0!==t.loading||a.push(W(fe,{side:!0},(()=>W(Jr,{size:"1.5em",dense:!0})))),W(we,{modelValue:r.expanded,expandIcon:"arrow_circle_down",expandSeparator:!0,clickable:!0,dark:!0,dense:e.dense,"onUpdate:modelValue":e=>((e,t,a,l)=>{t.expanded=e,s(a.key,!a.expanded,t,a)})(e,t,r)},{header:()=>a,default:()=>n})}}},c=(t,a)=>{const l=(e.filter?t.filter((e=>i.value[e.id||e.properties.id].matchesFilter)):t).map((e=>p(e,a)));return l.length?[W(ye,{dense:e.dense},(()=>l))]:[]};return()=>{const t=c(e.nodes);return W("div",{class:"vc-data-tree "+(0===t.length?"text-center":"")},0===t.length?e.filter?"找不到匹配的数据":"没有可用数据":t)}}});const Wr={class:"work-bench"},Qr={class:"dataset-category"},Yr={class:"dataset-category-header"},Zr={class:"q-ml-md q-mr-md"},Kr=_("回到顶部"),Xr=ja(v({__name:"Index",setup(e){x((e=>({"66ae0a73":V(k).commonPanel.themeCommonPanelListBorderColor,b87676fc:V(k).commonPanel.themeCommonPanelContentBackgroundColor})));const t=Ke(Gi.system.useLayoutStore()).global,{contentStyle:a,contentActiveStyle:l,thumbStyle:o,scrollAreaRef:r,verticalPositionRef:n,setScrollPosition:i,onScrollHandler:s}=function(){const e=S(null),t=S(null);return{scrollAreaRef:e,verticalPositionRef:t,contentStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},contentActiveStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},thumbStyle:{right:"2px",borderRadius:"3px",backgroundColor:"#EBB107",width:"3px",opacity:.6},onScrollHandler:e=>{t.value=e.verticalPosition},setScrollPosition:(t,a,l)=>{e.value.setScrollPosition("vertical",0,300)}}}(),{workBenchModel:u,dynamicRenderLayout:d,selectedDatasetCategories:p,init:c,showFeatureInfo:m,flyToFeature:h,addOrRemoveDataset:v,onLazyLoad:g,toggleDynamicRenderPageLayout:_}=Fr(),k=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]}));return z((()=>{c()})),H((()=>{u.datasourceCategories.forEach((e=>{e.children.forEach((e=>{var t;v(!1,e),e.checked=!1,e.expanded=!1,(null==(t=null==e?void 0:e.children)?void 0:t.length)&&(e.children.length=0)}))}))})),(e,o)=>(y(),C("div",Wr,[R(D("div",{class:L(["datasources-container animate__animated animate__fadeInLeft",{"full-width-drawer":!V(t).leftDrawerMini}])},[D("div",Qr,[D("div",Yr,[O(ve,{dense:"",flat:"",round:"",class:"close text-white",icon:"close",size:"sm",onClick:o[0]||(o[0]=e=>V(_)({datasource:{workBench:!1}}))}),D("div",Zr,[O(xe,{modelValue:V(u).filterText,"onUpdate:modelValue":o[1]||(o[1]=e=>V(u).filterText=e),disable:V(u).loading,label:"搜索",dark:"",dense:"",clearable:""},{prepend:b((()=>[O(_e,{color:"white",name:"search"})])),_:1},8,["modelValue","disable"])])]),V(n)>600?(y(),f(ve,{key:0,dense:"",fab:"",round:"",glossy:"","fab-mini":"",ripple:"",icon:"expand_less",padding:"2px",class:"absolute-bottom-right non-selectable z-top scroll-top",onClick:o[2]||(o[2]=e=>V(i)("vertical",0,300))},{default:b((()=>[O(he,null,{default:b((()=>[Kr])),_:1})])),_:1})):j("",!0),O(Ve,{ref_key:"scrollAreaRef",ref:r,class:"dataset-category-area","content-style":V(a),"content-active-style":V(l),onScroll:V(s)},{default:b((()=>[V(u).loading?(y(),f(Jr,{key:0,class:"absolute-center","has-error":V(u).hasLoadingError},null,8,["has-error"])):j("",!0),O(V(qr),{selected:V(u).selectedKey,"onUpdate:selected":[o[3]||(o[3]=e=>V(u).selectedKey=e),V(m)],nodes:V(p),filter:V(u).filterText,onZoomIconClicked:V(h),onLazyLoad:V(g),onChecked:V(v)},null,8,["selected","nodes","filter","onUpdate:selected","onZoomIconClicked","onLazyLoad","onChecked"])])),_:1},8,["content-style","content-active-style","onScroll"])])],2),[[A,V(d).datasource.workBench]]),V(d).datasource.workBench?j("",!0):(y(),f(ve,{key:0,class:"toggle-btn",round:"",loading:V(u).loading,flat:"",color:"white",onClick:o[4]||(o[4]=e=>V(_)({datasource:{workBench:!0}}))},{default:b((()=>[O(_e,{size:"50px",name:"keyboard_double_arrow_right"})])),_:1},8,["loading"]))]))}}),[["__scopeId","data-v-91b9d803"]]),en=Object.freeze(Object.defineProperty({__proto__:null,default:Xr},Symbol.toStringTag,{value:"Module"})),tn={class:"page-dynamic-render-recursive-list absolute z-fab"},an=v({name:"VcDemoDynamicRenderRecursiveList"}),ln=v({...an,setup(e){const{loadDefaultLayers:t}=Gi.viewer.useLayerStore();return z((()=>{t(!0)})),(e,t)=>(y(),C("div",tn,[O(Xr)]))}}),on=Object.freeze(Object.defineProperty({__proto__:null,default:ln},Symbol.toStringTag,{value:"Module"}));const rn={class:"page-dynamic-render-stack"},nn={key:0,class:"stack-buttons-wrapper"},sn={class:"stack-buttons-container"},un=["onClick"],dn={style:{"margin-top":"5px"}},pn=v({name:"VcDemoDynamicRenderStack"}),cn=ja(v({...pn,setup(e){const t=$(),{loadDefaultLayers:a}=Gi.viewer.useLayerStore(),{stackDatas:l}={stackDatas:J([{id:u(),label:"农用地",checked:!1,data:"/datas/work-bench/TDLY农用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(127,194,105,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:u(),label:"住宅用地",checked:!1,data:"/datas/work-bench/TDLY住宅用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(238,241,160,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:u(),label:"集体建设用地",checked:!1,data:"/datas/work-bench/TDLY集体建设.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(227,108,9,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:u(),label:"工业用地",checked:!1,data:"/datas/work-bench/TDLY工业用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(216,216,216,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}}])},o=it(),r=S(!1);S([]),H((()=>{$t(t.path)})),z((()=>{a(!0),nt(o.viewer,{position:{x:-2324661.042454219,y:5396877.953175202,z:2474170.1591741517},heading:6.283185307179586,pitch:-.5001412827126326,roll:6.283185307179586},{duration:1,complete:()=>{r.value=!0}})}));return(e,a)=>(y(),C("div",rn,[r.value?(y(),C("div",nn,[D("div",sn,[(y(!0),C(w,null,I(V(l),((e,a)=>(y(),C("div",{key:a,class:L(["stack-button",{active:e.checked}]),onClick:a=>{return(l=e).checked?$t(l.id):Zt(l.data,l.renderingType,l.entityProps,l.entitySelectedProps,l.id,t.path),void(l.checked=!l.checked);var l}},[D("div",dn,k(e.label),1)],10,un)))),128))])])):j("",!0)]))}}),[["__scopeId","data-v-f8eb1cb9"]]),mn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"}));const hn=ja(v({name:"VcDemoPageExpansion"}),[["render",function(e,t,a,l,o,r){const n=g("router-view");return y(),f(n)}]]),vn=Object.freeze(Object.defineProperty({__proto__:null,default:hn},Symbol.toStringTag,{value:"Module"})),gn=v({name:"VcTyphoon",props:{typhoonDatas:Array,clampToGround:{type:Boolean,default:!1},interval:{type:Number,default:100},radius7Color:{type:String,default:"#00bab2"},radius10Color:{type:String,default:"#ffff00"},radius12Color:{type:String,default:"#da7341"}},emits:{mouseover:e=>!0,mouseout:e=>!0,click:e=>!0,clickout:e=>!0},setup(e,t){const a=Q(),l=S(null);st();const o=it(),r=J([]),n=e=>{let t="";switch(e){case"STS":t="#0F8000";break;case"TY":t="#FE9C45";break;case"STY":t="#FE00FE";break;case"Super TY":t="#FE0000";break;case"TD":t="#EED139";break;case"TS":t="#0000FF";break;default:t="#409eff"}return t},i=(e,a)=>{a.playIndex=e;const l=a.typhoonData.points[e];l.type="live",l.index=e,l.tfbh=a.name;const o=[l.lng,l.lat];a.positions.push(o),a.points.push({id:l.id||Cesium.createGuid(),position:o,color:n(l.strong),pixelSize:8,outlineColor:"rgba(0,0,0,0.6)",outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY,onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){u(l,a),a.playIndex=l.index,t.emit("click",e)},onClickout(e){t.emit("clickout",e)},...l}),e===a.typhoonData.points.length-1&&u(l,a)},s=(t,a)=>{const l=r.findIndex((e=>e.name===t));if(l>=0){let t=0;const o=r[l];o.points.length=0,o.positions.length=0;const n=o.typhoonData;i(t,o),clearInterval(o.playInterval),o.playInterval=setInterval((()=>{t++,t>=n.points.length?clearInterval(o.playInterval):i(t,o)}),a||e.interval)}else Nt("播放台风失败，原因：未找到对应编号的台风数据。")},u=(e,a)=>{a.children.length=0;const l=e.forecast;if(l&&!(l.length<=0))for(let o=0;o<l.length;o++){const r=l[o],i=[],s=[],u={name:a.name+"_"+r.sets,typhoonData:r,show:!0,positions:s,points:i,type:"forc"};a.children.push(u),r.points.forEach(((a,l)=>{const o=[a.lng,a.lat];u.positions.push(o),0===l&&u.positions.push([e.lng,e.lat]),a.sets=r.sets,a.type="forc",a.index=l,u.points.push({id:a.id||Cesium.createGuid(),position:o,color:n(a.strong),pixelSize:8,outlineColor:"rgba(0,0,0,0.6)",outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY,onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){t.emit("click",e)},...a})}))}},d=e=>{const t={name:e.tfbh,typhoonData:e,show:!0,positions:[],points:[],children:[],type:"live"};return r.push(t),s(e.tfbh),t},p=(e,t)=>{let a=[];if("number"==typeof t)a=Y(e,1e3*t,{units:"meters"}).geometry.coordinates;else if(t.ne){const l=6,o=360/(4*l),r={0:"ne",1:"nw",2:"sw",3:"se"};for(let n=0;n<4;n++){let i=1e3*parseFloat(t[r[n]]);i||(i=0);for(let t=n*o;t<=(n+1)*o;t++){const o=l*t,r=e[0]+i*Math.cos(o*Math.PI/180)/111e3,n=e[1]+i*Math.sin(o*Math.PI/180)/111e3;a.push([r,n])}}}return a},c=a=>{const l=[];return a.forEach((a=>{if(a.positions.length>1&&l.push(W(e.clampToGround?ht:vt,{show:!0,enableMouseEvent:!0,asynchronous:!1,classificationType:2,appearance:{type:"PolylineMaterialAppearance",options:{material:{fabric:{type:"live"===a.type?"Color":"PolylineDash",uniforms:{color:"rgba(0,0,0,0.5)"}}},translucent:!0}},onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){t.emit("click",e)},onClickout(e){t.emit("clickout",e)}},(()=>W(pt,{id:a.name||Cesium.createGuid()},(()=>W(e.clampToGround?ct:mt,{positions:dt(a.positions),width:2,arcType:Cesium.ArcType.RHUMB,show:!0})))))),l.push(W(gt,{points:a.points,onReady:e=>{const{cesiumObject:t}=e,a=t.update;t.update=function(e){const t=e.commandList.length;a.call(this,e);const l=e.commandList.length;for(let a=t;a<l;++a)e.commandList[a].pass=Cesium.Pass.TRANSLUCENT,e.commandList[a].renderState=Cesium.RenderState.fromCache({depthTest:{enabled:!1},depthMask:!1})}}})),"live"===a.type){const t=a.points[a.playIndex];(null==t?void 0:t.radius7)>0&&l.push(W(yt,{positions:p(t.position,t.radius7_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius7Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}})),(null==t?void 0:t.radius10)>0&&l.push(W(yt,{positions:p(t.position,t.radius10_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius10Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}})),(null==t?void 0:t.radius12)>0&&l.push(W(yt,{positions:p(t.position,t.radius12_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius12Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}}))}a.children&&l.push(...c(a.children))})),l};return Object.assign(a.proxy,{addTyphoonData:d,addTyphoonByInterval:s,flyToTyphoonData:(e,t)=>{const a=[];"string"==typeof e?a.push(e):a.push(...e);let l=null;a.forEach((e=>{const t=[],a=r.find((t=>t.name===e));a&&a.typhoonData.points&&a.typhoonData.points.forEach((e=>{t.push([e.lng,e.lat])}));const o=dt(t),n=Cesium.BoundingSphere.fromPoints(o);l=null===l?n:Cesium.BoundingSphere.union(l,n)})),o.viewer.camera.flyToBoundingSphere(l,{...t})},removeTyphoonData:e=>{const t=r.indexOf(e);t>=0&&(clearInterval(e.playInterval),r.splice(t,1))},removeAllTyphoonData:()=>{r.forEach((e=>{clearInterval(e.playInterval)})),r.length=0},getTyphoonDatasources:()=>r}),e.typhoonDatas.forEach((e=>{d(e)})),()=>{const e=c(r);return W(ut,{ref:l,show:!0},(()=>e))}}}),yn={class:"page-dynamic-render-typhoon"},fn=v({name:"VcDemoPageDynamicRenderTyphoon"}),bn=ja(v({...fn,setup(e){const t=S([]),a=S(null),l=[{position:[127,34],polyline:{width:1,positions:[[127,34],[127,22],[119,18],[119,11],[113,4.5],[105,0]],material:"rgba(255, 0, 0, 0.8)"}},{polyline:{width:1,positions:[[105,0],[120,0],[132,15],[132,34]],material:{fabric:{type:"PolylineDash",uniforms:{color:"rgba(255, 165, 0, 0.8)",dashLength:10,dashPattern:5}}}}}];z((()=>{o()}));const o=()=>{t.value.length=0;const e=[fa.getStaticData("/datas/typhoon/202209.json"),fa.getStaticData("/datas/typhoon/202210.json")];Promise.all(e).then((([e,a])=>{t.value=[...e.data,...a.data]}))};return(e,o)=>{const r=g("vc-datasource-custom");return y(),C("div",yn,[O(r,{name:"vc_warnLine",entities:l}),t.value.length?(y(),f(V(gn),{key:0,ref_key:"typhoonRef",ref:a,"typhoon-datas":t.value},null,8,["typhoon-datas"])):j("",!0)])}}}),[["__scopeId","data-v-918a0155"]]),_n=Object.freeze(Object.defineProperty({__proto__:null,default:bn},Symbol.toStringTag,{value:"Module"})),kn={class:"z-top absolute-center page-index"},Cn=v({name:"VcDemoPageIndex"}),In=v({...Cn,setup(e){it(),S({position:[108,32],point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]}});const{loadDefaultLayers:t,toggle:a}=Gi.viewer.useLayerStore();return z((()=>{t(!0)})),H((()=>{a({names:"admin",show:!1})})),(e,t)=>(y(),C("div",kn))}}),wn=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"}));const xn=ja(v({name:"VcDemoPageOther"}),[["render",function(e,t,a,l,o,r){const n=g("router-view");return y(),f(n)}]]),Vn=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"})),Sn=v({name:"Test",setup(e,t){const a=S(null),l={body:e=>{const t=[];return e.forEach((e=>{t.push(O(bt,{rounded:!0,onClick:()=>(e=>{a.value.toggleAction(e.name)})(e),color:e.isActive?"positive":"primary"},{default:()=>[e.name]}))})),O("div",{class:"custom-analysis"},[t])}};return()=>[O(ft,{ref:a},l)]}}),Tn={class:"z-top absolute-center page-test"},zn=_("asd"),On=v({name:"VcDemoTSXTest"}),Ln=ja(v({...On,setup(e){it();const t=S(!1),a=S(null),l=S(null);S(!1),z((()=>{}));const o=e=>{"onmouseover"===e.type?e.cesiumObject.model.color=Cesium.Color.RED:e.cesiumObject.model.color=Cesium.Color.WHITE},r=e=>{"onmouseover"===e.type?e.cesiumObject.model.color=Cesium.Color.GREEN:e.cesiumObject.model.color=Cesium.Color.WHITE};S(null),S(null);const n=S(null),i=S(0),s=e=>{},u=()=>(i.value+=.005,i.value);return(e,i)=>{const d=g("vc-graphics-model"),p=g("vc-entity"),c=g("vc-graphics-rectangle");return y(),C(w,null,[D("div",Tn,[O(p,{position:[114,40,1],description:"Hello Vue Cesium",onClick:o,onMouseover:o,onMouseout:o},{default:b((()=>[O(d,{ref_key:"model1",ref:a,uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb"},null,512)])),_:1},8,["position"]),O(p,{position:[114.00005,40,1],description:"Hello Vue Cesium",onClick:r,onMouseover:r,onMouseout:r},{default:b((()=>[O(d,{ref_key:"model2",ref:l,uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb"},null,512)])),_:1},8,["position"])]),O(V(Sn)),O(ve,{style:{position:"absolute",top:"500px",left:"500px","z-index":"9999"},onClick:i[0]||(i[0]=e=>t.value=!t.value)},{default:b((()=>[zn])),_:1}),O(p,{show:t.value,description:"Hello Vue Cesium",onClick:s,onMouseover:s,onMouseout:s},{default:b((()=>[O(c,{ref_key:"rectangle3",ref:n,coordinates:{west:-92,south:30,east:-82,north:40},material:"https://zouyaoji.top/vue-cesium/favicon.png",rotation:u,"st-rotation":u,"classification-type":0},null,8,["coordinates"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-846f7b01"]]),jn=Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"})),Dn=v({name:"Error404",setup:(e,t)=>({defaultPagePath:"/drag"})}),Pn={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},Nn=D("div",{style:{"font-size":"30vh"}},"404",-1),En=D("div",{class:"text-h2",style:{opacity:"0.4"}},"噢. 这儿什么也没有...",-1);const Bn=ja(Dn,[["render",function(e,t,a,l,o,r){const n=g("q-btn");return y(),C("div",Pn,[D("div",null,[Nn,En,O(n,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:e.defaultPagePath,label:"返回主页","no-caps":""},null,8,["to"])])])}]]),Un=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"})),Mn={class:"q-pa-md page-login z-top"},Rn={class:"login-container col row"},An=(e=>(E("data-v-4762481a"),e=e(),B(),e))((()=>D("div",{class:"text-h4 q-my-sm"},"登录",-1))),Fn=ja(v({__name:"Login",setup(e){x((e=>({d0d1c87e:V(o).pageLogin.themePageLoginBackground,"7eb558f0":V(o).pageLogin.themePageLoginColor,"78f589b2":V(o).global.themeColorAlpha,"37d53877":V(o).global.themeColor}))),Se();const t=Z(),a=S({username:"admin",password:"admin"}),l={username:[e=>e&&e.length>0||"请输入用户名"],password:[e=>e&&e.length>0||"请输入用户名"],rememberMe:[e=>!!e||"You need to accept the license and terms first"]},o=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]})),r=async()=>{Gi.system.useAccountStore().login(a.value).then((()=>{t.replace(t.currentRoute.value.query.redirect||"/drag")}))},n=()=>{a.value={username:"",password:""}};return(e,t)=>(y(),C("div",Mn,[D("div",Rn,[O(Te,{greedy:"",class:"form-login",onSubmit:r,onReset:n},{default:b((()=>[An,O(xe,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.username=e),outlined:"",label:"用户名","lazy-rules":"",rules:l.username},{prepend:b((()=>[O(_e,{class:"icon",name:"perm_identity"})])),_:1},8,["modelValue","rules"]),O(xe,{modelValue:a.value.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.password=e),outlined:"",label:"密码","lazy-rules":"",type:"password",rules:l.password},{prepend:b((()=>[O(_e,{class:"icon",name:"lock"})])),_:1},8,["modelValue","rules"]),D("div",null,[O(ve,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"登录",type:"submit"})])])),_:1})])]))}}),[["__scopeId","data-v-4762481a"]]),Gn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),Hn=v({__name:"Index",setup(e){const t=J({cesiumPath:"https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js"});return(e,a)=>(y(),f(V(kt),{"cesium-path":t.cesiumPath},{default:b((()=>[O(V(_t))])),_:1},8,["cesium-path"]))}}),$n=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"})),Jn=v({__name:"Index",setup(e){const t=T((()=>Gi.system.useFullscreenStore().active)),a=()=>{Gi.system.useFullscreenStore().toggle()};return(e,l)=>(y(),f(ve,{icon:V(t)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:a},{default:b((()=>[O(he,null,{default:b((()=>[_(k(V(t)?"退出全屏":"全屏"),1)])),_:1})])),_:1},8,["icon"]))}}),qn=_("已激活"),Wn=_("使用"),Qn=v({__name:"ThemeList",setup(e){x((e=>({"0adb9271":V(o).global.themeQCardColor,"3089a47a":V(o).global.themeColorActive})));const t=S([{id:"title",label:"名称",field:"title",align:"center"},{id:"preview",label:"预览",field:"preview",align:"center"},{id:"handler",label:"操作",align:"center"}]),a=T((()=>Gi.system.useThemeStore().list)),l=T((()=>Gi.system.useThemeStore().activeName)),o=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]}));return(e,o)=>(y(),f(Le,{class:"theme-table-list",rows:V(a),"hide-header":"","hide-pagination":"",columns:t.value},{body:b((e=>[O(Oe,{props:e},{default:b((()=>[O(ze,{key:"title"},{default:b((()=>[_(k(e.row.title),1)])),_:2},1024),O(ze,{key:"preview"},{default:b((()=>[_(k(e.row.preview),1)])),_:2},1024),O(ze,{key:"handler"},{default:b((()=>[V(l)===e.row.name?(y(),f(ve,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:b((()=>[qn])),_:1})):(y(),f(ve,{key:1,rounded:"",outline:"",onClick:t=>{return a=e.row.name,void Gi.system.useThemeStore().set(a);var a}},{default:b((()=>[Wn])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))}}),Yn=_("主题"),Zn=D("div",{class:"text-h6"},"主题",-1),Kn=_("关闭"),Xn=v({__name:"Index",setup(e){const t=S(!1);return(e,a)=>(y(),C(w,null,[O(ve,{icon:"style",size:"md",flat:"",round:"",onClick:a[0]||(a[0]=e=>t.value=!0)},{default:b((()=>[O(he,null,{default:b((()=>[Yn])),_:1})])),_:1}),O(Ne,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e)},{default:b((()=>[O(je,{style:{width:"650px"}},{default:b((()=>[O(De,{class:"row items-center q-pb-none q-pt-xs card-header"},{default:b((()=>[Zn,O(Pe),R((y(),f(ve,{icon:"close",flat:"",round:"",dense:""},{default:b((()=>[O(he,null,{default:b((()=>[Kn])),_:1})])),_:1})),[[Ee]])])),_:1}),O(De,{class:"theme-card"},{default:b((()=>[O(Qn)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}}),ei=_("注销"),ti=v({__name:"Index",setup(e){const{toggleGlobalLayout:t}=Gi.system.useLayoutStore(),{loadDefaultLayers:a}=Gi.viewer.useLayerStore(),l=Gi.system.useUserStore(),o=it(),r=()=>{Gi.system.useAccountStore().logout({confirm:!0}).then((e=>{if(e){a(!1),t({featureInfo:!1,layerManager:!1}),Gi.viewer.useRenderStore(Fi).removeAllRenderData();const e={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(null==o?void 0:o.viewer)&&nt(null==o?void 0:o.viewer,e,{duration:3})}}))};return(e,t)=>{var a;return"login"!==e.$route.name?(y(),f(ge,{key:0,dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm cursor-pointer","auto-close":"",icon:"person",label:null==(a=V(l).info)?void 0:a.username},{default:b((()=>[O(Ue,null,{default:b((()=>[O(ye,{dense:""},{default:b((()=>[R((y(),f(Ie,{clickable:"",dense:"",onClick:r},{default:b((()=>[O(fe,{avatar:""},{default:b((()=>[O(Be,{icon:"logout"})])),_:1}),O(fe,null,{default:b((()=>[O(ke,null,{default:b((()=>[ei])),_:1})])),_:1})])),_:1})),[[Ee]])])),_:1})])),_:1})])),_:1},8,["label"])):j("",!0)}}}),ai={class:"main-header"},li={class:"title"},oi={class:"menu-container"},ri={key:0,class:"right-btn"},ni=v({name:"MainHeader"}),ii=ja(v({...ni,setup(e){const t=$();S(!1);const a=S(""),{registerTimeout:l}=Me(),o=S(100),r=Gi.system.useMenuStore(),n=Gi.system.useLayoutStore();Ke(n);const i=T((()=>"VueCesium Demo")),s=T((()=>{const e=r.header;return e.length?e[0].children:[]}));T((()=>!1)),T((()=>r.aside)),T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]})),F((()=>t.matched),(e=>{l((()=>{if(e.length>1){const t=e[1].path.substring(1,e[1].path.length);t&&(a.value=t)}else a.value="index"}),o.value)}),{immediate:!0}),z((()=>{o.value=5}));const u=e=>{null===e&&t.matched.length>1?a.value=t.matched[1].path.substring(1,t.matched[1].path.length):a.value=e};return(e,t)=>(y(),C("div",ai,[D("div",li,k(V(i)),1),D("div",oi,[O(Re,{"model-value":a.value,"onUpdate:model-value":t[0]||(t[0]=e=>a.value=e),align:"left","indicator-color":"cyan-13","onUpdate:modelValueOnce":u},{default:b((()=>[(y(!0),C(w,null,I(V(s),((e,t)=>(y(),f(Ae,{key:t,name:e.name,to:e.path,exact:"",label:e.caption,"content-class":"menu-tab","active-class":"menu-active"},null,8,["name","to","label"])))),128))])),_:1},8,["model-value"])]),V(s).length?(y(),C("div",ri,[O(Jn),O(Xn),O(ti)])):j("",!0)]))}}),[["__scopeId","data-v-47f4da65"]]),si=v({name:"VcDemoViewer"}),ui=v({...si,emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){const a={"en-US":Ct,"zh-CN":It},{locale:l}=K(),o=T((()=>a[l.value])),r=Gi.system.useThemeStore(),n=T((()=>r.themeConfig[r.activeName])),{toggleGlobalLayout:i}=Gi.system.useLayoutStore(),{registerTimeout:s}=st(),u=S(null);S([0,75]),T((()=>({outerOptions:{icon:n.value.navigation.themeVcCompassOuterIcon,color:n.value.navigation.themeVcCompassOuterColor},innerOptions:{icon:n.value.navigation.themeVcCompassInnerIcon,color:n.value.navigation.themeVcCompassInnerColor,background:n.value.navigation.themeVcCompassInnerBackgroundColor},markerOptions:{color:n.value.global.themeColorAlpha},duration:5}))),T((()=>({background:n.value.navigation.themeVcZoomControlBackgroundColor,color:n.value.global.themeColor,border:`solid 1px ${n.value.commonPanel.themeCommonPanelListBorderColor}`,zoomInOptions:{color:n.value.global.themeColor},zoomOutOptions:{color:n.value.global.themeColor},zoomResetOptions:{color:n.value.global.themeColor}}))),T((()=>({color:n.value.global.themeColor,background:n.value.navigation.themeVcPrintBackgroundColor,round:!0}))),T((()=>({color:n.value.global.themeColor,background:n.value.navigation.themeVcPrintBackgroundColor,round:!0}))),T((()=>({position:"bottom-right",offset:[0,10],statusBarOpts:{color:n.value.global.themeColor,background:n.value.navigation.themeVcStatusBarBackgroundColor},distancelegendOpts:{color:n.value.global.themeColor,background:n.value.navigation.themeVcDistanceLegendBackgroundColor}}))),Gi.viewer.useOverlayStore().mouseOverNameOpts,Gi.viewer.useRenderStore().selectedRenderData,T((()=>[...Gi.viewer.useLayerStore().baseLayers,...Gi.viewer.useLayerStore().overlayLayers])),T((()=>Gi.viewer.useLayerStore().terrainLayers));const d=e=>{t("viewerReady",e),i({header:!0}),s((()=>{i({content:!0})}),500)},p=e=>{t("cesiumReady",e)};return(e,t)=>{const a=g("vc-ajax-bar"),l=g("vc-viewer");return y(),f(V(kt),{locale:V(o),"cesium-path":V("https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js"),"access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5Y2U0ZTk2Ni1jNzdkLTQ3OWYtYjVmYS0yMGM3YTk3NjgzMmUiLCJpZCI6Njk5Nywic2NvcGVzIjpbImFzciIsImdjIl0sImlhdCI6MTU0ODA1MTc0OH0.Csy6yyAnv6JSBppH0Ou3ahshqcHFEhP27iOz5gjQMEo"},{default:b((()=>[O(l,{ref_key:"viewerRef",ref:u,class:"main-viewer",onReady:d,onCesiumReady:p},{default:b((()=>[O(a,{position:"bottom",color:"#21BA45",size:"3px",positioning:"fixed"}),X(e.$slots,"default")])),_:3},512)])),_:3},8,["locale","cesium-path"])}}}),di=ja(v({__name:"Index",emits:{mapReady:e=>!0},setup(e,{emit:t}){const a=Gi.system.useThemeStore();T((()=>a.themeConfig[a.activeName]));const{toggleGlobalLayout:l}=Gi.system.useLayoutStore(),o=S();return z((()=>{const e=new ee({target:o.value,view:new te({projection:"EPSG:4326",center:[108,32],zoom:7}),layers:[new ae({source:new le({url:"https://devapi.songluck.cn:5443/map/shaoxing/white/{z}/{x}/{y}.png",projection:"EPSG:3857",minZoom:1,maxZoom:9}),properties:{name:"baseLayer"}})]});e.addControl(new oe({coordinateFormat:re(6),projection:"EPSG:4326",className:"mousePosition"})),t("mapReady",e),l({header:!0}),setTimeout((()=>{l({content:!0})}),500)})),(e,t)=>(y(),C("div",{ref_key:"mapRef",ref:o,class:"ol-map"},[X(e.$slots,"default",{},void 0,!0)],512))}}),[["__scopeId","data-v-594a6375"]]),pi={key:0,elevated:"",class:"main-header-container text-h4 text-center"},ci={key:1,class:"content"},mi=v({name:"VcDemoMainLayout"}),hi=ja(v({...mi,setup(e){x((e=>({"8a059a9a":V(u).header.themeHeaderContentBackgroundColor,ee840e28:V(u).header.themeHeaderColor,51485148:V(u).header.themeHeaderBg,"7f709570":V(u).menu.themeMenuColor,"1db60bbc":V(u).menu.themeMenuActiveColor,"4ba29ed4":V(u).menu.themeMenuActiveBackgroundColor})));const t=$(),a=Ke(Gi.system.useLayoutStore()).global,{active:l}=Ke(Gi.system.useGrayStore()),o=Gi.system.useMenuStore(),r=S(!1),n=T((()=>{const e=o.header;return e.length?e[0].children:[]})),i=T((()=>o.aside)),s=T((()=>t.name)),u=T((()=>{const e=Gi.system.useThemeStore();return e.themeConfig[e.activeName]}));return F((()=>t.matched),(e=>{var t,a;if(e.length>1){const l=n.value.filter((t=>t.path===e[1].path));if(l.length){const e=null==(a=null==(t=l[0])?void 0:t.children)?void 0:a.filter((e=>10===e.type));(null==e?void 0:e.length)?o.asideSet(e):o.asideSet([])}else o.asideSet([])}}),{immediate:!0}),z((()=>{Gi.system.useAccountStore().load(),Gi.system.useFullscreenStore().listen(),window.onunhandledrejection=e=>{Gi.system.useLogStore(Fi).push({message:at.get(e,"reason.message","Unknown error"),type:"danger",meta:{error:at.get(e,"reason"),trace:at.get(e,"reason.stack")}})},window.onerror=(e,t,a,l,o)=>{Gi.system.useLogStore(Fi).push({message:at.get(o,"message","Unknown error"),type:"danger",meta:{error:o,trace:at.get(o,"stack"),source:`${t}@${a}:${l}`,event:e}})}})),(e,t)=>{const o=g("router-view");return y(),f(Fe,{view:"hHh Lpr fFf",class:L(["main-layout",{"gray-mode":V(l)}])},{default:b((()=>{var l;return[(null==(l=V(i))?void 0:l.length)&&V(a).header?(y(),f(Ge,{key:0,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"show-if-above":"",width:180,breakpoint:500,bordered:"",mini:V(a).leftDrawerMini},{default:b((()=>[O(ye,{class:"drawer-menu-list"},{default:b((()=>[(y(!0),C(w,null,I(V(i),((t,l)=>(y(),C(w,{key:l},[R((y(),f(Ie,{clickable:"","active-class":"menu-active-item",active:t.name===V(s),onClick:a=>e.$router.push(t.path)},{default:b((()=>[O(fe,{avatar:""},{default:b((()=>[O(_e,{name:t.icon},null,8,["name"])])),_:2},1024),O(fe,null,{default:b((()=>[_(k(e.$t(t.title)||t.caption),1)])),_:2},1024),V(a).leftDrawerMini?(y(),f(he,{key:0,"transition-show":"scale","transition-hide":"scale",anchor:"center right",self:"center left"},{default:b((()=>[_(k(e.$t(t.title)||t.caption),1)])),_:2},1024)):j("",!0)])),_:2},1032,["active","onClick"])),[[Ce]]),t.separator?(y(),f(He,{key:"sep"+l})):j("",!0)],64)))),128))])),_:1})])),_:1},8,["modelValue","mini"])):j("",!0),O(Je,{class:"no-padding"},{default:b((()=>[O($e,{class:"interaction-root"},{default:b((()=>[(y(),f(ne("3d"===V("3d")?ui:di),null,{default:b((()=>[V(a).header?(y(),C("header",pi,[O(ii)])):j("",!0),V(a).content?(y(),C("div",ci,[O(o)])):j("",!0)])),_:1}))])),_:1})])),_:1})]})),_:1},8,["class"])}}}),[["__scopeId","data-v-a765ff0b"]]),vi=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"})),gi=ta([]);ta([]);const yi={theme:{list:[{title:"经典",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"},{title:"light",name:"light",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}},fi=Ze("menu",{state:()=>({header:[],aside:[],asideCollapse:yi.menu.asideCollapse,asideTransition:yi.menu.asideTransition,moduleHeader:[]}),getters:{},actions:{async asideCollapseSet(e){this.asideCollapse=e;Sa().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideCollapseToggle(){this.asideCollapse=!this.asideCollapse;Sa().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideTransitionSet(e){this.asideTransition=e;Sa().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideTransitionToggle(){this.asideTransition=!this.asideTransition;Sa().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideLoad(){Sa().get({dbName:"sys",path:"menu",defaultValue:String(yi.menu),user:!0})},headerSet(e){this.header=e},asideSet(e){this.aside=e},clear(){this.header=[],this.aside=[]},moduleHeaderSet(e){this.moduleHeader=e}}}),bi=Ze("search",{state:()=>({active:!1,hotkey:{open:yi.hotkey.search.open,close:yi.hotkey.search.close},pool:[]}),actions:{toggle(){this.active=!this.active},set(e){this.active=e},init(e){const t=[],a=function(e,l=[]){e.forEach((e=>{e.children?a(e.children,[...l,e.title]):t.push({...e,fullTitle:[...l,e.title].join(" / ")})}))};a(e),this.pool=t}}}),_i=[...gi];const ki=Object.assign({"../../pages/drag/Index.vue":Er,"../../pages/drag/compoents/InputTree.vue":cr,"../../pages/drag/compoents/MenuTree.vue":Oa,"../../pages/drag/model-list/Index.vue":Pa,"../../pages/drag/model-show/Index.vue":jr,"../../pages/dynamic-render/Index.vue":Ur,"../../pages/dynamic-render/historical-track/Index.vue":Ar,"../../pages/dynamic-render/recursive-list/Index.vue":on,"../../pages/dynamic-render/recursive-list/work-bench/Index.vue":en,"../../pages/dynamic-render/stack/Index.vue":mn,"../../pages/expansion/Index.vue":vn,"../../pages/expansion/typhoon/Index.vue":_n,"../../pages/index/Index.vue":wn,"../../pages/other/Index.vue":Vn,"../../pages/other/tsx/Index.vue":jn,"../../pages/system/Error404.vue":Un,"../../pages/system/Login.vue":Gn,"../../pages/test/on-demand/Index.vue":$n});function Ci(e,t){return null==e&&(e={path:"/",children:[]}),t.forEach((t=>{let a=e;if(20!==t.type&&(null!=(l=t.component)&&""!==l)){let l=null;l="MainLayout"===t.component?hi:(e=>{const t=ki[`../../pages${e}/Index.vue`];if(t)return t.default;Nt(`动态路由页面【${e}】加载失败。请检查页面文件是否存在。`)})(t.path);const o=e.children;a={path:t.path,name:t.name,component:l,meta:{title:t.title,auth:!0,cache:!0}},t.redirect&&(a.redirect=t.redirect),o.push(a)}var l;null!=t.children&&t.children.length>0&&(null==a.children&&(a.children=[]),Ci(a,t.children))})),e.children}function Ii(e,t){return null==e&&(e=[]),e.forEach((e=>{null!=e.permission&&""!==e.permission&&t.push(e.permission),null!=e.children&&e.children.length>0&&Ii(e.children,t)})),t}function wi(e){null==e&&(e=[]);let t=[];return e.forEach((e=>{if(10!==e.type)return;let a,l;null!=e.children&&e.children.length>0&&(a=wi(e.children)),null!=e.icon&&""!==e.icon&&(l=e.icon),t.push({icon:l,children:a,...e})})),0===t.length&&(t=void 0),t}const xi=Ze("permission",{state:()=>({routes:[],addRoutes:[],permissions:[],inited:!1}),getters:{},actions:{setRoutes({accessedRoutes:e,permissions:t}){this.addRoutes=e,this.routes=Pt.concat(e),this.inited=!0,this.permissions=t},clear(){this.addRoutes=[],this.routes=[],this.inited=!1,this.permissions=[]},generateRoutes({menuTree:e}){return new Promise((t=>{const a=Ci(null,e),l=Ii(e,[]);this.setRoutes({accessedRoutes:a,permissions:l}),a.forEach((e=>{"layout"===e.name&&"/"===e.path&&(e.children=e.children.concat(Dt[0].children)),Ca.addRoute(e)}));const o=ta(wi(e));gi.splice(0,gi.length),gi.push(..._i),gi.push(...o);fi().headerSet(gi);bi().init(gi),t(!0)}))},async getAccessibleMenus({state:e,dispatch:t}){}}}),Vi=Ze("gray",{state:()=>({active:!1}),getters:{},actions:{toggle(){this.active=!this.active},set(e){this.active=e}}}),Si={themeName:"classic",global:{themeBGColor:"#ebf1f6",themeHeaderColor:"#cbe1e5",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#cbe1e5",themeColorAlpha:"rgba(255, 255, 255, 0.6)",themeColorActive:"#fff",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#fff",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#1976d2",themeQMenuColor:"#fff",themeQMenuBackgroundColor:"rgba(18,41,83,1)",themeQCardColor:"#fff",themeQCardHeaderBackgroundColor:"rgba(18,41,83,.9)",themeQCardBackgroundColor:"rgba(18,41,83,.9)",themeQScrollAreaColor:"#fff"},header:{themeHeaderColor:"#cbe1e5",themeHeaderTitleColor:"#fff",themeHeaderLogoBackgroundColor:"rgba(255, 255, 255, 0)",themeHeaderBackgroundColor:"rgba(18,41,83,.9);",themeHeaderContentBackgroundColor:"rgba(18,41,83,.9)",themeHeaderBg:`url(${{}.VITE_VUE_APP_FYSB_STATIC}/pc-img/classic/抬头.webp)`},commonPanel:{themeCommonPanelHeaderColor:"#fff",themeCommonPanelHeaderBackgroundColor:"rgba(0, 101, 122, 0.8)",themeCommonPanelContentColor:"#fff",themeCommonPanelContentBackgroundColor:"rgba(0, 68, 82, 0.6)",themeCommonPanelListColor:"#fff",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"svguse:#vc-icons-compass-outer",themeVcCompassOuterColor:"rgba(0, 68, 82)",themeVcCompassInnerIcon:"fa fa-compass",themeVcCompassInnerColor:"rgba(255, 255, 255, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcZoomControlBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcPrintBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcStatusBarBackgroundColor:"rgba(0, 68, 82, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(0, 68, 82, 0.8)"},pageLogin:{themePageLoginColor:"#fff",themePageLoginBackground:"rgba(29,29,29, 0.5)"},menu:{themeMenuColor:"#cbe1e5",themeMenuActiveColor:"#fff",themeMenuActiveBackgroundColor:"#00e5ff"}},Ti={themeName:"element",global:{themeBGColor:"#314255",themeHeaderColor:"#bfcbd9",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#bfcbd9",themeColorAlpha:"rgba(70, 160, 252, 0.6)",themeColorActive:"#46a0fc",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#bfcbd9",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#46a0fc",themeQMenuColor:"#bfcbd9",themeQMenuBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQCardColor:"#bfcbd9",themeQCardHeaderBackgroundColor:"rgba(49, 66, 85, 0.5)",themeQCardBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQScrollAreaColor:"#46a0fc"},header:{themeHeaderColor:"#bfcbd9",themeHeaderTitleColor:"#bfcbd9",themeHeaderLogoBackgroundColor:"#314255",themeHeaderBackgroundColor:"#202d3d",themeHeaderContentBackgroundColor:"#314255"},commonPanel:{themeCommonPanelHeaderColor:"#bfcbd9",themeCommonPanelHeaderBackgroundColor:"rgba(49, 66, 85, 0.8)",themeCommonPanelContentColor:"#bfcbd9",themeCommonPanelContentBackgroundColor:"rgba(32, 45, 61, 0.6)",themeCommonPanelListColor:"#bfcbd9",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"fa fa-circle-o-notch",themeVcCompassOuterColor:"rgb(49, 66, 85)",themeVcCompassInnerIcon:"fa fa-circle",themeVcCompassInnerColor:"rgba(49, 66, 85, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcZoomControlBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcPrintBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcStatusBarBackgroundColor:"rgba(49, 66, 85, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(49, 66, 85, 0.8)"},pageLogin:{themePageLoginColor:"#bfcbd9",themePageLoginBackground:"rgba(32, 45, 61, 0.5)"},menu:{themeMenuColor:"#bfcbd9",themeMenuActiveColor:"#bfcbd9",themeMenuActiveBackgroundColor:"#F2C037"}},zi={themeName:"light",global:{themeBGColor:"#ebf1f6",themeHeaderColor:"#222",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#cbe1e5",themeColorAlpha:"rgba(255, 255, 255, 0.6)",themeColorActive:"#fff",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#fff",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#1976d2",themeQMenuColor:"#fff",themeQMenuBackgroundColor:"rgba(0,229,255, 0.5)",themeQCardColor:"#fff",themeQCardHeaderBackgroundColor:"rgba(0,229,255, 0.5)",themeQCardBackgroundColor:"rgba(0,229,255, 0.5)",themeQScrollAreaColor:"#fff"},header:{themeHeaderColor:"#222",themeHeaderTitleColor:"#222",themeHeaderLogoBackgroundColor:"rgba(255, 255, 255, 0)",themeHeaderBackgroundColor:"rgba(29, 29, 29, 0)",themeHeaderContentBackgroundColor:"rgba(255, 255, 255, 1)"},commonPanel:{themeCommonPanelHeaderColor:"#fff",themeCommonPanelHeaderBackgroundColor:"rgba(0, 101, 122, 0.8)",themeCommonPanelContentColor:"#fff",themeCommonPanelContentBackgroundColor:"rgba(0, 68, 82, 0.6)",themeCommonPanelListColor:"#fff",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"svguse:#vc-icons-compass-outer",themeVcCompassOuterColor:"rgba(0, 68, 82)",themeVcCompassInnerIcon:"fa fa-compass",themeVcCompassInnerColor:"rgba(255, 255, 255, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcZoomControlBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcPrintBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcStatusBarBackgroundColor:"rgba(0, 68, 82, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(0, 68, 82, 0.8)"},pageLogin:{themePageLoginColor:"#fff",themePageLoginBackground:"rgba(29,29,29, 0.5)"},menu:{themeMenuColor:"red",themeMenuActiveColor:"#red",themeMenuActiveBackgroundColor:"#00e5ff"}};let Oi="";const Li=Ze("theme",{state:()=>({list:at.get(yi,"theme.list",[]),activeName:at.get(yi,"theme.list[0].name","h2o"),themeConfig:{classic:Si,element:Ti,light:zi}}),getters:{activeSetting:e=>e.list.find((t=>t.name===e.activeName))},actions:{dom(){const e=`theme-${Oi}`,t=`theme-${this.activeName}`;document.body.className.includes(e)?document.body.className=document.body.className.replace(e,t):document.body.className+=" "+t;const a=this.themeConfig[this.activeName];Object.keys(a.global).forEach((e=>{document.body.style.setProperty(`--${e}`,a.global[e])}))},async set(e){Oi=this.activeName,this.activeName=this.list.find((t=>t.name===e))?e:this.list[0].name,this.dom();Sa().set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0}),this.changeElementStyleTheme(this.activeName)},async load(){Oi=this.activeName;const e=Sa(),t=e.get({dbName:"sys",path:"theme.activeName",defaultValue:this.list[0].name,user:!0});this.list.find((e=>e.name===t))?this.activeName=t:(this.activeName=this.list[0].name,e.set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0})),this.dom(),this.changeElementStyleTheme(this.activeName)},changeElementStyleTheme(e){document.documentElement.className="light"==e?"":"dark"}}}),ji=Ze("transition",{state:()=>({active:yi.transition.active}),actions:{async set(e){this.active=e;Sa().set({dbName:"sys",path:"transition.active",value:String(this.active),user:!0})},async load(){const e=Sa();this.active=e.get({dbName:"sys",path:"transition.active",defaultValue:String(yi.transition.active),user:!0})}}}),Di=Ze("account",{state:()=>({}),getters:{},actions:{async login(e){const t=(await ya.login(e)).data;xt("token",t.token),xt("uuid",t.id);Ta().set({...t}),this.load()},logout:({confirm:e=!1}={})=>new Promise(((t,a)=>{async function l(){St("token"),St("uuid");Ta().set({});xi().clear();fi().clear(),Ca.push({name:"login"}),t(!0)}if(e){const e=Vi();e.set(!0),qe.create({title:"注销用户",message:"确定要注销当前用户吗？",cancel:!0}).onOk((()=>{e.set(!1),l()})).onCancel((()=>{e.set(!1),ce.create({message:"取消注销操作"}),t(!1)}))}else l()})),async load(){Ta().load();Li().load();ji().load();fi().asideLoad()}}}),Pi=Ze("fullscreen",{state:()=>({active:!1}),getters:{},actions:{listen(){const e=this;ie.isEnabled&&ie.on("change",(()=>{ie.isFullscreen||(e.active=!1)}))},toggle(){ie.isFullscreen?(ie.exit(),this.active=!1):(ie.request(),this.active=!0)}}}),Ni=Ze("layout",{state:()=>({global:{header:!1,leftDrawerMini:!0,content:!1,footer:!1,layerManager:!1,navigation:!1,featureInfo:!1,videoPlayer:!1},dynamicRender:{datasource:{workBench:!1}}}),getters:{},actions:{toggleGlobalLayout(e){Object.keys(e).forEach((t=>{at.isBoolean(e[t])&&(this.global[t]=e[t])}))},toggleDynamicRenderPageLayout(e){const t=(e,a)=>{Object.keys(e).forEach((l=>{i(e[l])?t(e[l],a[l]):at.isBoolean(e[l])&&(a[l]=e[l])}))};t(e,this.dynamicRender)}}}),Ei=Ze("log",{state:()=>({log:[]}),getters:{length:e=>e.log.length,lengthError:e=>e.log.filter((e=>"danger"===e.type)).length},actions:{push({message:e,type:t="info",meta:a}){this.log.push({message:e,type:t,time:We.formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),meta:{uuid:Vt("uuid"),token:Vt("token"),url:at.get(window,"location.href",""),...a}})},clean(){this.log=[]}}}),Bi={useAccountStore:e=>Di(e),useDBStore:e=>Sa(e),useFullscreenStore:e=>Pi(e),useGrayStore:e=>Vi(e),useLayoutStore:e=>Ni(e),useLogStore:e=>Ei(e),useMenuStore:e=>fi(e),usePermissionStore:e=>xi(e),useSearchStore:e=>bi(e),useThemeStore:e=>Li(e),useTransitionStore:e=>ji(e),useUserStore:e=>Ta(e)},Ui=Ze("layer",{state:()=>({baseLayers:[{name:"tianditu_img",text:"天地图影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"tianditu_vec",text:"天地图街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"baidu_img",text:"百度影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"img",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_vec",text:"百度街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"vec",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_midnight",text:"百度街道_午夜蓝",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"midnight",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_dark",text:"百度街道_黑夜",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"dark",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"amap_img",text:"高德影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"6",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"amap_vec",text:"高德街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"7",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_img",text:"腾讯影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"img",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_vector",text:"腾讯街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"vector",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_vector_my",text:"腾讯街道_墨渊",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"vector",styleId:"4",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"osm",text:"OSM",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderOsm"}]},{name:"arcgis",text:"ArcGIS",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderArcgis"}]}],overlayLayers:[{name:"tianditu_cva",text:"天地图注记",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"amap_label",text:"高德注记",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"8",ltype:"4",minimumLevel:0,maximumLevel:17,projectionTransforms:{from:"GCJ02",to:"WGS84"}}}]},{name:"amap_traffictile",text:"高德路况",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderAmap",props:{url:"/traffictile?v=1.0&x={x}&y={y}&z={z}&t=1",minimumLevel:0,maximumLevel:17,projectionTransforms:{from:"GCJ02",to:"WGS84"}}}]},{name:"baidu_traffic",text:"百度路况",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"traffic",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"admin",text:"行政区划",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"/productImage/dist/datas/china.json"},children:[]}],terrainLayers:[{name:"terrain",text:"全球地形",component:"VcTerrainProviderCesium",props:{show:!1}},{name:"null",text:"不显示地形",component:void 0,props:{show:!1}}]}),getters:{},actions:{toggle({names:e,show:t}){const a=[...this.baseLayers,...this.overlayLayers,...this.terrainLayers];(e=Array.isArray(e)?e:[e]).forEach((e=>{var l;const o=at.find(a,(t=>t.name===e));!at.isUndefined(null==o?void 0:o.show)&&(o.show=t),!at.isUndefined(null==(l=null==o?void 0:o.props)?void 0:l.show)&&(o.props.show=t)}))},loadDefaultLayers(e){const t=[...this.baseLayers,...this.overlayLayers,...this.terrainLayers].map((e=>e.name));this.toggle({names:t,show:!1});this.toggle({names:["tianditu_img","admin"],show:!0})}}}),Mi=Ze("overlay",{state:()=>({mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}}),getters:{},actions:{setMouseOverlayLabel({position:e,show:t,text:a,pixelOffset:l}){this.mouseOverNameOpts.position=e,this.mouseOverNameOpts.show=t,this.mouseOverNameOpts.text=a,this.mouseOverNameOpts.pixelOffset=l},clearMouseOverlayLabel(){this.mouseOverNameOpts.position=void 0,this.mouseOverNameOpts.show=!1,this.mouseOverNameOpts.text=void 0}}}),Ri=Ze("render",{state:()=>({renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandlers:[],feature:void 0,featureInfoListItems:[]}}),getters:{},actions:{addRenderDatas(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{-1===at.findIndex(this.renderDatas,(t=>t.id===e.id))?this.renderDatas.push(e):Et(`添加渲染数据集失败，原因：id 为【${e.id} 】的数据已经存在。`,"渲染数据模型：",e)}))},removeRenderDataById(e){at.remove(this.renderDatas,(t=>t.id===e))},removeRenderDataByType(e){at.remove(this.renderDatas,(t=>t.type===e))},removeRenderDataByPage(e){at.remove(this.renderDatas,(t=>t.page===e))},removeAllRenderData(){this.renderDatas.length=0},setSelectedRenderData(e,t){this.selectedRenderData.model=e.model,this.selectedRenderData.renderingType=e.renderingType,this.selectedRenderData.feature=e.feature,this.selectedRenderData.featureInfoListItems=e.featureInfoListItems,t?this.selectedRenderData.restoreHandlers=[]:this.selectedRenderData.restoreHandlers.push(...e.restoreHandlers)},getRenderDataByDatasetId(e){return at.find(this.renderDatas,(t=>t.id===e))}}}),Ai={useLayerStore:e=>Ui(e),useOverlayStore:e=>Mi(e),useRenderStore:e=>Ri(e)},Fi=Xe(),Gi={system:{...Bi},viewer:{...Ai}},Hi=se(v({__name:"App",setup:e=>(z((()=>{var e,t,a,l,o;e=document,t=window,a=e.documentElement,l="orientationchange"in window?"orientationchange":"resize",o=function(){var e=a.clientWidth;e&&(a.style.fontSize=e/1920*20+"px")},e.addEventListener&&(t.addEventListener(l,o,!1),e.addEventListener("DOMContentLoaded",o,!1))})),(e,t)=>{const a=g("router-view");return y(),f(a)})}));Hi.use(Qe,{plugins:{Notify:ce,Dialog:qe,LocalStorage:pe},lang:Ye}),Hi.use(ka),Hi.use(wt),Hi.use(Fi),Hi.use(Ca),Hi.use(ue,{locale:de}),Hi.mount("#app");
